{"ast":null,"code":"import _classCallCheck from\"C:/Users/User/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/User/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import{BASE_URL}from\"./auth\";export var Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this._url=options.url;}_createClass(Api,[{key:\"_getServerReply\",value:function _getServerReply(res){if(res.ok){return res.json();}else{return Promise.reject(\"\".concat(res.status,\" \").concat(res.statusText));}}},{key:\"getMyInfo\",value:function getMyInfo(){var _this=this;return fetch(\"\".concat(this._url,\"/users/me\"),{method:'GET',credentials:'include',headers:{'Content-Type':'application/json'}}).then(function(res){return _this._getServerReply(res);});}},{key:\"getServerCards\",value:function getServerCards(){var _this2=this;return fetch(\"\".concat(this._url,\"/cards\"),{method:'GET',credentials:'include',headers:{}}).then(function(res){return _this2._getServerReply(res);});}},{key:\"changeProfileData\",value:function changeProfileData(_ref){var name=_ref.name,about=_ref.about;return fetch(\"\".concat(this._url,\"/users/me\"),{method:'PATCH',credentials:'include',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:name,about:about})}).then(this._getServerReply);}},{key:\"changeUserAvatar\",value:function changeUserAvatar(_ref2){var avatar=_ref2.avatar;return fetch(\"\".concat(this._url,\"/users/me/avatar\"),{method:'PATCH',credentials:'include',headers:{'Content-Type':'application/json'},body:JSON.stringify({avatar:avatar})}).then(this._getServerReply);}},{key:\"addNewCard\",value:function addNewCard(_ref3){var name=_ref3.name,link=_ref3.link;return fetch(\"\".concat(this._url,\"/cards\"),{method:'POST',credentials:'include',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:name,link:link})}).then(this._getServerReply);}},{key:\"deleteCard\",value:function deleteCard(id){return fetch(\"\".concat(this._url,\"/cards/\").concat(id),{method:'DELETE',credentials:'include',headers:{'Content-Type':'application/json'}}).then(this._getServerReply);}},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(id,isLiked){if(isLiked){return fetch(\"\".concat(this._url,\"/cards/\").concat(id,\"/likes\"),{method:'PUT',credentials:'include',headers:{'Content-Type':'application/json'}}).then(this._getServerReply);}else{return fetch(\"\".concat(this._url,\"/cards/\").concat(id,\"/likes\"),{method:'DELETE',credentials:'include',headers:{'Content-Type':'application/json'}}).then(this._getServerReply);}}}]);return Api;}();// const api = new Api({\n//     url: \"https://mesto.nomoreparties.co/v1/cohort-61\",\n//     headers: {\n//         \"authorization\": \"871afe4f-c0f9-41b9-8dd4-b2dbe91cbc7d\",\n//         \"Content-Type\": \"application/json\",\n//     }\n// });\nvar api=new Api({url:BASE_URL,headers:{'Accept':'application/json','Content-Type':'application/json'}});export default api;","map":{"version":3,"names":["BASE_URL","Api","options","_classCallCheck","_url","url","_createClass","key","value","_getServerReply","res","ok","json","Promise","reject","concat","status","statusText","getMyInfo","_this","fetch","method","credentials","headers","then","getServerCards","_this2","changeProfileData","_ref","name","about","body","JSON","stringify","changeUserAvatar","_ref2","avatar","addNewCard","_ref3","link","deleteCard","id","changeLikeCardStatus","isLiked","api"],"sources":["C:/Users/User/react-mesto-api-full-gha/frontend/src/utils/api.js"],"sourcesContent":["import { BASE_URL } from \"./auth\";\n\nexport class Api {\n    constructor(options) {\n        this._url = options.url;\n    }\n    _getServerReply(res) {\n        if (res.ok) {\n            return res.json();\n        } else {\n            return Promise.reject(`${res.status} ${res.statusText}`);\n        }\n    }\n\n\n    getMyInfo() {\n        return fetch(`${this._url}/users/me`,\n            {\n                method: 'GET',\n                credentials: 'include',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n            }).then(res => this._getServerReply(res));\n    }\n\n    getServerCards() {\n        return fetch(`${this._url}/cards`,\n            {\n                method: 'GET',\n                credentials: 'include',\n                headers: {\n                },\n            })\n            .then(res => this._getServerReply(res));\n    }\n\n    changeProfileData({ name, about }) {\n        return fetch(`${this._url}/users/me`,\n            {\n                method: 'PATCH',\n                credentials: 'include',\n\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({ name, about })\n            })\n            .then(this._getServerReply)\n    }\n\n    changeUserAvatar({ avatar }) {\n        return fetch(`${this._url}/users/me/avatar`,\n            {\n                method: 'PATCH',\n                credentials: 'include',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({ avatar })\n            })\n            .then(this._getServerReply)\n    }\n\n    addNewCard({ name, link }) {\n        return fetch(`${this._url}/cards`,\n            {\n                method: 'POST',\n                credentials: 'include',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({ name, link })\n            })\n            .then(this._getServerReply)\n    }\n\n    deleteCard(id) {\n        return fetch(`${this._url}/cards/${id}`,\n            {\n                method: 'DELETE',\n                credentials: 'include',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n            })\n            .then(this._getServerReply)\n    }\n\n    changeLikeCardStatus(id, isLiked) {\n        if (isLiked) {\n            return fetch(`${this._url}/cards/${id}/likes`,\n                {\n                    method: 'PUT',\n                    credentials: 'include',\n                    headers: {\n                        'Content-Type': 'application/json'\n                    }\n                })\n                .then(this._getServerReply)\n        } else {\n            return fetch(`${this._url}/cards/${id}/likes`,\n                {\n                    method: 'DELETE',\n                    credentials: 'include',\n                    headers: {\n                        'Content-Type': 'application/json'\n                    }\n                })\n                .then(this._getServerReply)\n        }\n    }\n}\n\n// const api = new Api({\n//     url: \"https://mesto.nomoreparties.co/v1/cohort-61\",\n//     headers: {\n//         \"authorization\": \"871afe4f-c0f9-41b9-8dd4-b2dbe91cbc7d\",\n//         \"Content-Type\": \"application/json\",\n//     }\n// });\n\nconst api = new Api\n    ({\n        url: BASE_URL,\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n    });\n\nexport default api;"],"mappings":"wQAAA,OAASA,QAAQ,KAAQ,QAAQ,CAEjC,UAAa,CAAAC,GAAG,yBACZ,SAAAA,IAAYC,OAAO,CAAE,CAAAC,eAAA,MAAAF,GAAA,EACjB,IAAI,CAACG,IAAI,CAAGF,OAAO,CAACG,GAAG,CAC3B,CAACC,YAAA,CAAAL,GAAA,GAAAM,GAAA,mBAAAC,KAAA,CACD,SAAAC,gBAAgBC,GAAG,CAAE,CACjB,GAAIA,GAAG,CAACC,EAAE,CAAE,CACR,MAAO,CAAAD,GAAG,CAACE,IAAI,EAAE,CACrB,CAAC,IAAM,CACH,MAAO,CAAAC,OAAO,CAACC,MAAM,IAAAC,MAAA,CAAIL,GAAG,CAACM,MAAM,MAAAD,MAAA,CAAIL,GAAG,CAACO,UAAU,EAAG,CAC5D,CACJ,CAAC,GAAAV,GAAA,aAAAC,KAAA,CAGD,SAAAU,UAAA,CAAY,KAAAC,KAAA,MACR,MAAO,CAAAC,KAAK,IAAAL,MAAA,CAAI,IAAI,CAACX,IAAI,cACrB,CACIiB,MAAM,CAAE,KAAK,CACbC,WAAW,CAAE,SAAS,CACtBC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAC,CAACC,IAAI,CAAC,SAAAd,GAAG,QAAI,CAAAS,KAAI,CAACV,eAAe,CAACC,GAAG,CAAC,GAAC,CACjD,CAAC,GAAAH,GAAA,kBAAAC,KAAA,CAED,SAAAiB,eAAA,CAAiB,KAAAC,MAAA,MACb,MAAO,CAAAN,KAAK,IAAAL,MAAA,CAAI,IAAI,CAACX,IAAI,WACrB,CACIiB,MAAM,CAAE,KAAK,CACbC,WAAW,CAAE,SAAS,CACtBC,OAAO,CAAE,CACT,CACJ,CAAC,CAAC,CACDC,IAAI,CAAC,SAAAd,GAAG,QAAI,CAAAgB,MAAI,CAACjB,eAAe,CAACC,GAAG,CAAC,GAAC,CAC/C,CAAC,GAAAH,GAAA,qBAAAC,KAAA,CAED,SAAAmB,kBAAAC,IAAA,CAAmC,IAAf,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CAAEC,KAAK,CAAAF,IAAA,CAALE,KAAK,CAC3B,MAAO,CAAAV,KAAK,IAAAL,MAAA,CAAI,IAAI,CAACX,IAAI,cACrB,CACIiB,MAAM,CAAE,OAAO,CACfC,WAAW,CAAE,SAAS,CAEtBC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDQ,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEJ,IAAI,CAAJA,IAAI,CAAEC,KAAK,CAALA,KAAM,CAAC,CACxC,CAAC,CAAC,CACDN,IAAI,CAAC,IAAI,CAACf,eAAe,CAAC,CACnC,CAAC,GAAAF,GAAA,oBAAAC,KAAA,CAED,SAAA0B,iBAAAC,KAAA,CAA6B,IAAV,CAAAC,MAAM,CAAAD,KAAA,CAANC,MAAM,CACrB,MAAO,CAAAhB,KAAK,IAAAL,MAAA,CAAI,IAAI,CAACX,IAAI,qBACrB,CACIiB,MAAM,CAAE,OAAO,CACfC,WAAW,CAAE,SAAS,CACtBC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDQ,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEG,MAAM,CAANA,MAAO,CAAC,CACnC,CAAC,CAAC,CACDZ,IAAI,CAAC,IAAI,CAACf,eAAe,CAAC,CACnC,CAAC,GAAAF,GAAA,cAAAC,KAAA,CAED,SAAA6B,WAAAC,KAAA,CAA2B,IAAd,CAAAT,IAAI,CAAAS,KAAA,CAAJT,IAAI,CAAEU,IAAI,CAAAD,KAAA,CAAJC,IAAI,CACnB,MAAO,CAAAnB,KAAK,IAAAL,MAAA,CAAI,IAAI,CAACX,IAAI,WACrB,CACIiB,MAAM,CAAE,MAAM,CACdC,WAAW,CAAE,SAAS,CACtBC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDQ,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEJ,IAAI,CAAJA,IAAI,CAAEU,IAAI,CAAJA,IAAK,CAAC,CACvC,CAAC,CAAC,CACDf,IAAI,CAAC,IAAI,CAACf,eAAe,CAAC,CACnC,CAAC,GAAAF,GAAA,cAAAC,KAAA,CAED,SAAAgC,WAAWC,EAAE,CAAE,CACX,MAAO,CAAArB,KAAK,IAAAL,MAAA,CAAI,IAAI,CAACX,IAAI,YAAAW,MAAA,CAAU0B,EAAE,EACjC,CACIpB,MAAM,CAAE,QAAQ,CAChBC,WAAW,CAAE,SAAS,CACtBC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAC,CACDC,IAAI,CAAC,IAAI,CAACf,eAAe,CAAC,CACnC,CAAC,GAAAF,GAAA,wBAAAC,KAAA,CAED,SAAAkC,qBAAqBD,EAAE,CAAEE,OAAO,CAAE,CAC9B,GAAIA,OAAO,CAAE,CACT,MAAO,CAAAvB,KAAK,IAAAL,MAAA,CAAI,IAAI,CAACX,IAAI,YAAAW,MAAA,CAAU0B,EAAE,WACjC,CACIpB,MAAM,CAAE,KAAK,CACbC,WAAW,CAAE,SAAS,CACtBC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAC,CACDC,IAAI,CAAC,IAAI,CAACf,eAAe,CAAC,CACnC,CAAC,IAAM,CACH,MAAO,CAAAW,KAAK,IAAAL,MAAA,CAAI,IAAI,CAACX,IAAI,YAAAW,MAAA,CAAU0B,EAAE,WACjC,CACIpB,MAAM,CAAE,QAAQ,CAChBC,WAAW,CAAE,SAAS,CACtBC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAC,CACDC,IAAI,CAAC,IAAI,CAACf,eAAe,CAAC,CACnC,CACJ,CAAC,WAAAR,GAAA,KAGL;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAM,CAAA2C,GAAG,CAAG,GAAI,CAAA3C,GAAG,CACd,CACGI,GAAG,CAAEL,QAAQ,CACbuB,OAAO,CAAE,CACL,QAAQ,CAAE,kBAAkB,CAC5B,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAC,CAEN,cAAe,CAAAqB,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}