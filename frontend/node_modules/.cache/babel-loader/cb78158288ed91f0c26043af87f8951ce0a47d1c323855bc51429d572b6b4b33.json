{"ast":null,"code":"import _toConsumableArray from\"C:/Users/User/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/User/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'../index.css';import Footer from'./Footer';import Header from'./Header';import Main from'./Main';import ImagePopup from'./ImagePopup';import api from'../utils/api';import{CurrentUserContext,currentUserInfo}from'../contexts/CurrentUserContext';import EditProfilePopup from'./EditProfilePopup';import EditAvatarPopup from'./EditAvatarPopup';import AddPlacePopup from'./AddPlacePopup';import ConfirmDeletePopup from'./ConfirmDeletePopup';import{Routes,Route,useNavigate,Navigate}from'react-router-dom';import ProtectedRoute from'./ProtectedRoute';import*as auth from'../utils/auth';import InfoToolTip from'./InfoTooltip';import Login from'./Login';import Register from'./Register';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isEditProfilePopupOpen=_useState2[0],setIsEditProfilePopupOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isAddPlacePopupOpen=_useState4[0],setIsAddPlacePopupOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isEditAvatarPopupOpen=_useState6[0],setIsEditAvatarPopupOpen=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isImagePopupOpen=_useState8[0],setIsImagePopupOpen=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isConfirmDeletePopupOpen=_useState10[0],setIsConfirmDeletePopupOpen=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isInfoToolTipPopupOpen=_useState12[0],setInfoToolTipPopupOpen=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),renderLoadingOn=_useState14[0],setIsRenderLoadingOn=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),selectedCard=_useState16[0],setSelectedCard=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),cards=_useState18[0],setCards=_useState18[1];var _useState19=useState(currentUserInfo),_useState20=_slicedToArray(_useState19,2),currentUser=_useState20[0],setCurrentUser=_useState20[1];var _useState21=useState(null),_useState22=_slicedToArray(_useState21,2),email=_useState22[0],setEmail=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),isLoggedIn=_useState24[0],setIsLoggedIn=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),isSuccess=_useState26[0],setIsSuccess=_useState26[1];var navigate=useNavigate();useEffect(function(){var userId=localStorage.getItem('userId');if(userId){auth.checkToken(userId).then(function(res){if(res){setIsLoggedIn(true);setEmail(res.email);navigate('/',{replace:true});}}).catch(function(err){if(err.status===400){console.log('400 — Токен не передан или передан не в том формате');}else if(err.status===401){console.log('401 — Переданный токен некорректен');}});}},[]);// [navigate]);\n// Регистрация пользователя\nvar handleRegisterSubmit=function handleRegisterSubmit(email,password){auth.register(email,password).then(function(res){// if (res) {\n//         setPopupStatus({\n//           image: UnionBlack,\n//           message: 'Вы успешно зарегистрировались!'\n//         });\n//         navigate(\"/sign-in\");\n//         setIsLoggedIn(true);\n//         setEmail(res.email);\n//       }\n//     })\n//     .catch(() => {\n//       setPopupStatus({\n//         image: UnionRed,\n//         message: 'Что-то пошло не так! Попробуйте еще раз.'\n//       });\n//     })\n//     .finally(handleInfoTooltip);\n// };\nsetInfoToolTipPopupOpen(true);setIsSuccess(true);navigate('/sign-in');}).catch(function(err){if(err.status===400){console.log('400 - некорректно заполнено одно из полей');}setInfoToolTipPopupOpen(true);setIsSuccess(false);});};// Вход в аккаунт\nvar handleLoginSubmit=function handleLoginSubmit(email,password){auth.login(email,password).then(function(res){localStorage.setItem('userId',res._id);setIsLoggedIn(true);setEmail(email);navigate(\"/\");}).catch(function(err){// setPopupStatus({ image: UnionRed, message: 'Что-то пошло не так! Попробуйте еще раз.' });\n// handleInfoTooltip();\n//     });\n// };\nif(err.status===400){console.log('400 - не передано одно из полей');}else if(err.status===401){console.log('401 - пользователь с email не найден');}setInfoToolTipPopupOpen(true);setIsSuccess(false);});};var handleSignOut=function handleSignOut(){localStorage.removeItem('userId');setIsLoggedIn(false);setEmail(null);setCards([]);navigate('/',{replace:true});};// // Получение данных текущего пользователя и начальных карточек\n// useEffect(() => {\n//   if (isLoggedIn) {\n//     api.getMyInfo()\n//       .then((data) => {\n//         setCurrentUser(data)\n//       })\n//       .catch((err) => { console.log(err) })\n//   }\n// }, [isLoggedIn]);\n// useEffect(() => {\n//   if (isLoggedIn) {\n//     api.getServerCards()\n//       .then((cards) => {\n//         setCards(cards);\n//       })\n//       .catch((err) => { console.log(err) })\n//   }\n// }, [isLoggedIn])\n// Получение данных текущего пользователя и начальных карточек\nuseEffect(function(){var userId=localStorage.getItem('userId');if(userId){// if (isLoggedIn) {\nPromise.all([api.getMyInfo(),api.getServerCards()]).then(function(_ref){var _ref2=_slicedToArray(_ref,2),data=_ref2[0],cards=_ref2[1];setCurrentUser(data);setCards(cards);}).catch(function(err){console.log(err);});}},//  [navigate]);\n[isLoggedIn]);// function handleInfoTooltip() {\n//   setInfoToolTipPopupOpen(true);\n// };\nfunction renderLoading(){setIsRenderLoadingOn(function(renderLoadingOn){return!renderLoadingOn;});}function handleEditProfileClick(){setIsEditProfilePopupOpen(true);}function handleAddPlaceClick(){setIsAddPlacePopupOpen(true);}function handleEditAvatarClick(){setIsEditAvatarPopupOpen(true);}function handleCardClick(card){setSelectedCard(card);setIsImagePopupOpen(true);}function handleConfirmDeleteClick(card){setSelectedCard(card);setIsConfirmDeletePopupOpen(true);}// function handleCardLike(card) {\n//   // Снова проверяем, есть ли уже лайк на этой карточке\n//   const isLiked = card.likes.some((like) => like._id === currentUser._id);\n//   // Отправляем запрос в API и получаем обновлённые данные карточки\n//   if (!isLiked) {\n//     api.addLike(card._id, isLiked).then((newCard) => {\n//       setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n//     }).catch((err) => {\n//       console.error(err);\n//     });\n//   } else {\n//     api.deleteLike(card._id).then((newCard) => {\n//       setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n//     }).catch((err) => {\n//       console.error(err);\n//     });\n//   }\n// }\nfunction handleCardLike(card){var isLiked=card.likes.some(function(i){return i._id===currentUser._id;});api.changeLikeCardStatus(card._id,!isLiked).then(function(newCard){setCards(function(state){return state.map(function(c){return c._id===card._id?newCard:c;});});}).catch(function(err){console.log(err);});}// function handleCardDelete(card) {\n//   api.deleteCard(card._id).then(() => {\n//     setCards((state) => state.filter((c) => c._id !== card._id && c));\n//     closeAllPopups()\n//   }).catch((err) => {\n//     console.error(err);\n//   });\n// }\nfunction handleCardDelete(){api.deleteCard(selectedCard._id).then(function(){setCards(function(cards){return cards.filter(function(item){return item._id!==selectedCard._id;});});closeAllPopups();}).catch(function(err){console.log(err);}).finally(function(){return renderLoading();});}function handleAddCard(card){api.addNewCard(card).then(function(newCard){setCards([newCard].concat(_toConsumableArray(cards)));closeAllPopups();}).catch(function(err){console.log(err);}).finally(function(){return renderLoading();});}function handleChangeProfile(userData){api.changeProfileData(userData).then(function(serverUserData){setCurrentUser(serverUserData);closeAllPopups();}).catch(function(err){return console.log(err);}).finally(function(){return renderLoading();});}function handleChangeAvatar(userAvatar){api.changeUserAvatar(userAvatar).then(function(serverUserAvatar){setCurrentUser(serverUserAvatar);closeAllPopups();}).catch(function(err){console.log(err);}).finally(function(){return renderLoading();});}// function handleAddPlaceSubmit(items) {\n//   api\n//     .addCard(items)\n//     .then((newCard) => {\n//       setCards([newCard, ...cards]);\n//       closeAllPopups();\n//     })\n//     .catch((err) => console.log(err));\n// }\nfunction closePopupEscape(event){if(event.key==='Escape'){closeAllPopups();}}function closePopupOverlay(event){if(event.target.classList.contains('popup_opened')){closeAllPopups();}}function closeAllPopups(){setIsEditProfilePopupOpen(false);setIsEditAvatarPopupOpen(false);setIsAddPlacePopupOpen(false);setSelectedCard(null);setIsConfirmDeletePopupOpen(false);setInfoToolTipPopupOpen(false);}return/*#__PURE__*/_jsx(CurrentUserContext.Provider,{value:currentUser,children:/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[/*#__PURE__*/_jsx(Header,{email:email,onSignOut:handleSignOut,isLoggedIn:isLoggedIn}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ProtectedRoute,{onEditAvatar:handleEditAvatarClick,onEditProfile:handleEditProfileClick,onAddPlace:handleAddPlaceClick,onCardClick:handleCardClick,onCardLike:handleCardLike,onCardDelete:handleConfirmDeleteClick,cards:cards,loggedIn:isLoggedIn,element:Main})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-in\",element:/*#__PURE__*/_jsx(Login,{onLogin:handleLoginSubmit})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-up\",element:/*#__PURE__*/_jsx(Register,{onRegister:handleRegisterSubmit})})]}),isLoggedIn&&/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(EditProfilePopup,{isOpen:isEditProfilePopupOpen,onClose:closeAllPopups,onUpdateProfile:handleChangeProfile,renderLoadingOn:renderLoadingOn,renderLoading:renderLoading}),/*#__PURE__*/_jsx(AddPlacePopup,{isOpen:isAddPlacePopupOpen,onClose:closeAllPopups,onAddPlace:handleAddCard,renderLoadingOn:renderLoadingOn,renderLoading:renderLoading}),/*#__PURE__*/_jsx(ImagePopup,{card:selectedCard,isOpen:isImagePopupOpen,onClose:closeAllPopups}),/*#__PURE__*/_jsx(ConfirmDeletePopup,{isOpen:isConfirmDeletePopupOpen,onClose:closeAllPopups,onDeleteCard:handleCardDelete,renderLoadingOn:renderLoadingOn,renderLoading:renderLoading}),/*#__PURE__*/_jsx(EditAvatarPopup,{isOpen:isEditAvatarPopupOpen,onClose:closeAllPopups,onChangeAvatar:handleChangeAvatar,renderLoadingOn:renderLoadingOn,renderLoading:renderLoading}),/*#__PURE__*/_jsx(InfoToolTip,{isOpen:isInfoToolTipPopupOpen,onClose:closeAllPopups,isSuccess:isSuccess})]})});}export default App;//   return (\n//     <CurrentUserContext.Provider value={currentUser}>\n//       <div className=\"page\">\n//         <Routes>\n//           <Route path='/sign-up'\n//             element={\n//               <>\n//                 <Header\n//                   title='Войти'\n//                   route='/sign-in'\n//                 />\n//                 <Register\n//                   onRegister={handleRegisterSubmit}\n//                 />\n//               </>\n//             }\n//           />\n//           <Route path='/sign-in'\n//             element={\n//               <>\n//                 <Header\n//                   title='Регистрация'\n//                   route='/sign-up'\n//                 />\n//                 <Login\n//                   onLogin={handleLoginSubmit}\n//                 />\n//               </>\n//             }\n//           />\n//           <Route path='/'\n//             element={\n//               <>\n//                 <Header\n//                   title='Выйти'\n//                   route=''\n//                   email={email}\n//                   onClick={handleSignOut}\n//                 />\n//                 <ProtectedRoute\n//                   path=\"/\"\n//                   component={Main}\n//                   LoggedIn={isLoggedIn}\n//                   onEditAvatar={handleEditAvatarClick}\n//                   onEditProfile={handleEditProfileClick}\n//                   onAddPlace={handleAddPlaceClick}\n//                   onCardClick={handleCardClick}\n//                   onCardLike={handleCardLike}\n//                   onCardDelete={handleConfirmDeleteClick}\n//                   cards={cards}\n//                 />\n//                 <Footer />\n//               </>\n//             }\n//           />\n//           <Route\n//             path=\"*\"\n//             element={\n//               isLoggedIn ? <Navigate to=\"/\" /> : <Navigate to=\"/sign-in\" />\n//             }\n//           />\n//         </Routes>\n//         <EditProfilePopup\n//           isOpen={isEditProfilePopupOpen}\n//           onClose={closeAllPopups}\n//           onCloseEscape={closePopupEscape}\n//           onCloseOverlay={closePopupOverlay}\n//           onUpdateProfile={handleChangeProfile}\n//           renderLoadingOn={renderLoadingOn}\n//           renderLoading={renderLoading}\n//         />\n//         <EditAvatarPopup\n//           isOpen={isEditAvatarPopupOpen}\n//           onClose={closeAllPopups}\n//           onCloseEscape={closePopupEscape}\n//           onCloseOverlay={closePopupOverlay}\n//           onChangeAvatar={handleChangeAvatar}\n//           renderLoadingOn={renderLoadingOn}\n//           renderLoading={renderLoading}\n//         />\n//         <AddPlacePopup\n//           isOpen={isAddPlacePopupOpen}\n//           onClose={closeAllPopups}\n//           onCloseEscape={closePopupEscape}\n//           onCloseOverlay={closePopupOverlay}\n//           onAddPlace={handleAddCard}\n//           renderLoadingOn={renderLoadingOn}\n//           renderLoading={renderLoading}\n//         />\n//         <ConfirmDeletePopup\n//           card={isConfirmDeletePopupOpen}\n//           name=\"popup_card-delete\"\n//           title=\"Вы уверены?\"\n//           textButton=\"Да\"\n//           onClose={closeAllPopups}\n//           onDeleteCard={handleCardDelete}\n//           renderLoadingOn={renderLoadingOn}\n//           renderLoading={renderLoading}\n//         />\n//         <ImagePopup\n//           card={selectedCard}\n//           isOpen={isImagePopupOpen}\n//           onClose={closeAllPopups}\n//           onCloseEscape={closePopupEscape}\n//           onCloseOverlay={closePopupOverlay}\n//         />\n//         <InfoToolTip\n//           isOpen={isInfoToolTipPopupOpen}\n//           onClose={closeAllPopups}\n//           onCloseEscape={closePopupEscape}\n//           onCloseOverlay={closePopupOverlay}\n//           isSuccess={isSuccess}\n//         />\n//       </div>\n//     </CurrentUserContext.Provider>\n//   );\n// }\n// export default App;","map":{"version":3,"names":["React","useState","useEffect","Footer","Header","Main","ImagePopup","api","CurrentUserContext","currentUserInfo","EditProfilePopup","EditAvatarPopup","AddPlacePopup","ConfirmDeletePopup","Routes","Route","useNavigate","Navigate","ProtectedRoute","auth","InfoToolTip","Login","Register","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","isEditProfilePopupOpen","setIsEditProfilePopupOpen","_useState3","_useState4","isAddPlacePopupOpen","setIsAddPlacePopupOpen","_useState5","_useState6","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","_useState7","_useState8","isImagePopupOpen","setIsImagePopupOpen","_useState9","_useState10","isConfirmDeletePopupOpen","setIsConfirmDeletePopupOpen","_useState11","_useState12","isInfoToolTipPopupOpen","setInfoToolTipPopupOpen","_useState13","_useState14","renderLoadingOn","setIsRenderLoadingOn","_useState15","_useState16","selectedCard","setSelectedCard","_useState17","_useState18","cards","setCards","_useState19","_useState20","currentUser","setCurrentUser","_useState21","_useState22","email","setEmail","_useState23","_useState24","isLoggedIn","setIsLoggedIn","_useState25","_useState26","isSuccess","setIsSuccess","navigate","userId","localStorage","getItem","checkToken","then","res","replace","catch","err","status","console","log","handleRegisterSubmit","password","register","handleLoginSubmit","login","setItem","_id","handleSignOut","removeItem","Promise","all","getMyInfo","getServerCards","_ref","_ref2","data","renderLoading","handleEditProfileClick","handleAddPlaceClick","handleEditAvatarClick","handleCardClick","card","handleConfirmDeleteClick","handleCardLike","isLiked","likes","some","i","changeLikeCardStatus","newCard","state","map","c","handleCardDelete","deleteCard","filter","item","closeAllPopups","finally","handleAddCard","addNewCard","concat","_toConsumableArray","handleChangeProfile","userData","changeProfileData","serverUserData","handleChangeAvatar","userAvatar","changeUserAvatar","serverUserAvatar","closePopupEscape","event","key","closePopupOverlay","target","classList","contains","Provider","value","children","className","onSignOut","path","element","onEditAvatar","onEditProfile","onAddPlace","onCardClick","onCardLike","onCardDelete","loggedIn","onLogin","onRegister","isOpen","onClose","onUpdateProfile","onDeleteCard","onChangeAvatar"],"sources":["C:/Users/User/react-mesto-api-full-gha/frontend/src/components/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport '../index.css';\r\nimport Footer from './Footer';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport ImagePopup from './ImagePopup';\r\nimport api from '../utils/api';\r\nimport { CurrentUserContext, currentUserInfo } from '../contexts/CurrentUserContext';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ConfirmDeletePopup from './ConfirmDeletePopup';\r\nimport { Routes, Route, useNavigate, Navigate } from 'react-router-dom';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport * as auth from '../utils/auth';\r\nimport InfoToolTip from './InfoTooltip';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\n\r\nfunction App() {\r\n\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n\r\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\r\n\r\n  const [isConfirmDeletePopupOpen, setIsConfirmDeletePopupOpen] = useState(false);\r\n  const [isInfoToolTipPopupOpen, setInfoToolTipPopupOpen] = useState(false);\r\n\r\n  const [renderLoadingOn, setIsRenderLoadingOn] = useState(false);\r\n\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n  const [cards, setCards] = useState([]);\r\n  const [currentUser, setCurrentUser] = useState(currentUserInfo);\r\n\r\n  const [email, setEmail] = useState(null);\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n\r\n  const [isSuccess, setIsSuccess] = useState(false);\r\n\r\n  const navigate = useNavigate();\r\n\r\n\r\n  useEffect(() => {\r\n    const userId = localStorage.getItem('userId');\r\n    if (userId) {\r\n      auth.checkToken(userId)\r\n        .then((res) => {\r\n          if (res) {\r\n            setIsLoggedIn(true);\r\n            setEmail(res.email);\r\n            navigate('/', { replace: true });\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          if (err.status === 400) {\r\n            console.log('400 — Токен не передан или передан не в том формате');\r\n          } else if (err.status === 401) {\r\n            console.log('401 — Переданный токен некорректен');\r\n          }\r\n        });\r\n    }\r\n  },\r\n    []);\r\n\r\n  // [navigate]);\r\n\r\n  // Регистрация пользователя\r\n  const handleRegisterSubmit = (email, password) => {\r\n    auth.register(email, password)\r\n      .then((res) => {\r\n        // if (res) {\r\n        //         setPopupStatus({\r\n        //           image: UnionBlack,\r\n        //           message: 'Вы успешно зарегистрировались!'\r\n        //         });\r\n        //         navigate(\"/sign-in\");\r\n        //         setIsLoggedIn(true);\r\n        //         setEmail(res.email);\r\n        //       }\r\n        //     })\r\n        //     .catch(() => {\r\n        //       setPopupStatus({\r\n        //         image: UnionRed,\r\n        //         message: 'Что-то пошло не так! Попробуйте еще раз.'\r\n        //       });\r\n        //     })\r\n        //     .finally(handleInfoTooltip);\r\n        // };\r\n        setInfoToolTipPopupOpen(true);\r\n        setIsSuccess(true);\r\n        navigate('/sign-in');\r\n      })\r\n      .catch(err => {\r\n        if (err.status === 400) {\r\n          console.log('400 - некорректно заполнено одно из полей');\r\n        }\r\n        setInfoToolTipPopupOpen(true);\r\n        setIsSuccess(false);\r\n      });\r\n  }\r\n\r\n\r\n\r\n  // Вход в аккаунт\r\n  const handleLoginSubmit = (email, password) => {\r\n    auth.login(email, password)\r\n      .then((res) => {\r\n        localStorage.setItem('userId', res._id);\r\n        setIsLoggedIn(true);\r\n        setEmail(email);\r\n        navigate(\"/\")\r\n\r\n      })\r\n      .catch((err) => {\r\n        // setPopupStatus({ image: UnionRed, message: 'Что-то пошло не так! Попробуйте еще раз.' });\r\n        // handleInfoTooltip();\r\n        //     });\r\n        // };\r\n        if (err.status === 400) {\r\n          console.log('400 - не передано одно из полей');\r\n        } else if (err.status === 401) {\r\n          console.log('401 - пользователь с email не найден');\r\n        }\r\n        setInfoToolTipPopupOpen(true);\r\n        setIsSuccess(false);\r\n      });\r\n  }\r\n\r\n  const handleSignOut = () => {\r\n    localStorage.removeItem('userId');\r\n    setIsLoggedIn(false);\r\n    setEmail(null);\r\n    setCards([]);\r\n    navigate('/', { replace: true });\r\n  };\r\n\r\n  // // Получение данных текущего пользователя и начальных карточек\r\n  // useEffect(() => {\r\n  //   if (isLoggedIn) {\r\n  //     api.getMyInfo()\r\n  //       .then((data) => {\r\n  //         setCurrentUser(data)\r\n  //       })\r\n  //       .catch((err) => { console.log(err) })\r\n  //   }\r\n  // }, [isLoggedIn]);\r\n\r\n  // useEffect(() => {\r\n  //   if (isLoggedIn) {\r\n  //     api.getServerCards()\r\n  //       .then((cards) => {\r\n  //         setCards(cards);\r\n  //       })\r\n  //       .catch((err) => { console.log(err) })\r\n  //   }\r\n  // }, [isLoggedIn])\r\n\r\n\r\n  // Получение данных текущего пользователя и начальных карточек\r\n  useEffect(() => {\r\n    const userId = localStorage.getItem('userId');\r\n    if (userId) {\r\n      // if (isLoggedIn) {\r\n      Promise.all([api.getMyInfo(), api.getServerCards()]).then(([data, cards]) => {\r\n        setCurrentUser(data);\r\n        setCards(cards);\r\n      }).catch((err) => {\r\n        console.log(err)\r\n      })\r\n    }\r\n  },\r\n    //  [navigate]);\r\n    [isLoggedIn])\r\n\r\n\r\n  // function handleInfoTooltip() {\r\n  //   setInfoToolTipPopupOpen(true);\r\n  // };\r\n\r\n  function renderLoading() {\r\n    setIsRenderLoadingOn((renderLoadingOn) => !renderLoadingOn);\r\n  }\r\n\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setIsImagePopupOpen(true)\r\n  }\r\n\r\n  function handleConfirmDeleteClick(card) {\r\n    setSelectedCard(card);\r\n    setIsConfirmDeletePopupOpen(true)\r\n  }\r\n\r\n\r\n\r\n  // function handleCardLike(card) {\r\n  //   // Снова проверяем, есть ли уже лайк на этой карточке\r\n  //   const isLiked = card.likes.some((like) => like._id === currentUser._id);\r\n  //   // Отправляем запрос в API и получаем обновлённые данные карточки\r\n  //   if (!isLiked) {\r\n  //     api.addLike(card._id, isLiked).then((newCard) => {\r\n  //       setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\r\n  //     }).catch((err) => {\r\n  //       console.error(err);\r\n  //     });\r\n  //   } else {\r\n  //     api.deleteLike(card._id).then((newCard) => {\r\n  //       setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\r\n  //     }).catch((err) => {\r\n  //       console.error(err);\r\n  //     });\r\n  //   }\r\n  // }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    api.changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n      })\r\n      .catch((err) => { console.log(err) })\r\n  }\r\n\r\n\r\n\r\n  // function handleCardDelete(card) {\r\n  //   api.deleteCard(card._id).then(() => {\r\n  //     setCards((state) => state.filter((c) => c._id !== card._id && c));\r\n  //     closeAllPopups()\r\n  //   }).catch((err) => {\r\n  //     console.error(err);\r\n  //   });\r\n  // }\r\n\r\n  function handleCardDelete() {\r\n    api.deleteCard(selectedCard._id)\r\n      .then(() => {\r\n        setCards((cards) => cards.filter((item) => item._id !== selectedCard._id))\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => { console.log(err) })\r\n      .finally(() => renderLoading())\r\n  }\r\n\r\n  function handleAddCard(card) {\r\n    api.addNewCard(card)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => { console.log(err) })\r\n      .finally(() => renderLoading())\r\n  }\r\n\r\n\r\n\r\n  function handleChangeProfile(userData) {\r\n    api\r\n      .changeProfileData(userData)\r\n      .then((serverUserData) => {\r\n        setCurrentUser(serverUserData);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err))\r\n      .finally(() => renderLoading())\r\n  }\r\n\r\n  function handleChangeAvatar(userAvatar) {\r\n    api.changeUserAvatar(userAvatar).then((serverUserAvatar) => {\r\n      setCurrentUser(serverUserAvatar);\r\n      closeAllPopups();\r\n    }).catch((err) => { console.log(err) })\r\n      .finally(() => renderLoading())\r\n  }\r\n\r\n\r\n  // function handleAddPlaceSubmit(items) {\r\n  //   api\r\n  //     .addCard(items)\r\n  //     .then((newCard) => {\r\n  //       setCards([newCard, ...cards]);\r\n  //       closeAllPopups();\r\n  //     })\r\n  //     .catch((err) => console.log(err));\r\n  // }\r\n\r\n\r\n\r\n  function closePopupEscape(event) {\r\n    if (event.key === 'Escape') {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  function closePopupOverlay(event) {\r\n    if (event.target.classList.contains('popup_opened')) {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setSelectedCard(null);\r\n    setIsConfirmDeletePopupOpen(false);\r\n    setInfoToolTipPopupOpen(false);\r\n  }\r\n\r\n\r\n\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header\r\n          email={email}\r\n          onSignOut={handleSignOut}\r\n          isLoggedIn={isLoggedIn}\r\n        />\r\n        <Routes>\r\n          <Route path='/'\r\n            element={<ProtectedRoute\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onEditProfile={handleEditProfileClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onCardClick={handleCardClick}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleConfirmDeleteClick}\r\n              cards={cards}\r\n              loggedIn={isLoggedIn}\r\n              element={Main}\r\n            />}\r\n          />\r\n          <Route path=\"/sign-in\"\r\n            element={<Login onLogin={handleLoginSubmit} />} />\r\n          <Route path=\"/sign-up\"\r\n            element={<Register onRegister={handleRegisterSubmit} />} />\r\n        </Routes>\r\n        {isLoggedIn && <Footer />}\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateProfile={handleChangeProfile}\r\n          renderLoadingOn={renderLoadingOn}\r\n          renderLoading={renderLoading}\r\n        />\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddCard}\r\n          renderLoadingOn={renderLoadingOn}\r\n          renderLoading={renderLoading}\r\n        />\r\n        <ImagePopup\r\n          card={selectedCard}\r\n          isOpen={isImagePopupOpen}\r\n          onClose={closeAllPopups}\r\n        />\r\n        <ConfirmDeletePopup\r\n          isOpen={isConfirmDeletePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onDeleteCard={handleCardDelete}\r\n          renderLoadingOn={renderLoadingOn}\r\n          renderLoading={renderLoading}\r\n        />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onChangeAvatar={handleChangeAvatar}\r\n          renderLoadingOn={renderLoadingOn}\r\n          renderLoading={renderLoading}\r\n        />\r\n        <InfoToolTip\r\n          isOpen={isInfoToolTipPopupOpen}\r\n          onClose={closeAllPopups}\r\n          isSuccess={isSuccess}\r\n        />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n//   return (\r\n//     <CurrentUserContext.Provider value={currentUser}>\r\n//       <div className=\"page\">\r\n//         <Routes>\r\n//           <Route path='/sign-up'\r\n//             element={\r\n//               <>\r\n//                 <Header\r\n//                   title='Войти'\r\n//                   route='/sign-in'\r\n//                 />\r\n//                 <Register\r\n//                   onRegister={handleRegisterSubmit}\r\n//                 />\r\n//               </>\r\n//             }\r\n//           />\r\n//           <Route path='/sign-in'\r\n//             element={\r\n//               <>\r\n//                 <Header\r\n//                   title='Регистрация'\r\n//                   route='/sign-up'\r\n//                 />\r\n//                 <Login\r\n//                   onLogin={handleLoginSubmit}\r\n//                 />\r\n//               </>\r\n//             }\r\n//           />\r\n//           <Route path='/'\r\n//             element={\r\n//               <>\r\n//                 <Header\r\n//                   title='Выйти'\r\n//                   route=''\r\n//                   email={email}\r\n//                   onClick={handleSignOut}\r\n//                 />\r\n//                 <ProtectedRoute\r\n//                   path=\"/\"\r\n//                   component={Main}\r\n//                   LoggedIn={isLoggedIn}\r\n//                   onEditAvatar={handleEditAvatarClick}\r\n//                   onEditProfile={handleEditProfileClick}\r\n//                   onAddPlace={handleAddPlaceClick}\r\n//                   onCardClick={handleCardClick}\r\n//                   onCardLike={handleCardLike}\r\n//                   onCardDelete={handleConfirmDeleteClick}\r\n//                   cards={cards}\r\n//                 />\r\n//                 <Footer />\r\n//               </>\r\n//             }\r\n//           />\r\n//           <Route\r\n//             path=\"*\"\r\n//             element={\r\n//               isLoggedIn ? <Navigate to=\"/\" /> : <Navigate to=\"/sign-in\" />\r\n//             }\r\n//           />\r\n//         </Routes>\r\n\r\n//         <EditProfilePopup\r\n//           isOpen={isEditProfilePopupOpen}\r\n//           onClose={closeAllPopups}\r\n//           onCloseEscape={closePopupEscape}\r\n//           onCloseOverlay={closePopupOverlay}\r\n//           onUpdateProfile={handleChangeProfile}\r\n//           renderLoadingOn={renderLoadingOn}\r\n//           renderLoading={renderLoading}\r\n//         />\r\n\r\n//         <EditAvatarPopup\r\n//           isOpen={isEditAvatarPopupOpen}\r\n//           onClose={closeAllPopups}\r\n//           onCloseEscape={closePopupEscape}\r\n//           onCloseOverlay={closePopupOverlay}\r\n//           onChangeAvatar={handleChangeAvatar}\r\n//           renderLoadingOn={renderLoadingOn}\r\n//           renderLoading={renderLoading}\r\n//         />\r\n\r\n//         <AddPlacePopup\r\n//           isOpen={isAddPlacePopupOpen}\r\n//           onClose={closeAllPopups}\r\n//           onCloseEscape={closePopupEscape}\r\n//           onCloseOverlay={closePopupOverlay}\r\n//           onAddPlace={handleAddCard}\r\n//           renderLoadingOn={renderLoadingOn}\r\n//           renderLoading={renderLoading}\r\n//         />\r\n//         <ConfirmDeletePopup\r\n//           card={isConfirmDeletePopupOpen}\r\n//           name=\"popup_card-delete\"\r\n//           title=\"Вы уверены?\"\r\n//           textButton=\"Да\"\r\n//           onClose={closeAllPopups}\r\n//           onDeleteCard={handleCardDelete}\r\n//           renderLoadingOn={renderLoadingOn}\r\n//           renderLoading={renderLoading}\r\n//         />\r\n//         <ImagePopup\r\n//           card={selectedCard}\r\n//           isOpen={isImagePopupOpen}\r\n//           onClose={closeAllPopups}\r\n//           onCloseEscape={closePopupEscape}\r\n//           onCloseOverlay={closePopupOverlay}\r\n//         />\r\n//         <InfoToolTip\r\n//           isOpen={isInfoToolTipPopupOpen}\r\n//           onClose={closeAllPopups}\r\n//           onCloseEscape={closePopupEscape}\r\n//           onCloseOverlay={closePopupOverlay}\r\n//           isSuccess={isSuccess}\r\n//         />\r\n//       </div>\r\n//     </CurrentUserContext.Provider>\r\n//   );\r\n// }\r\n\r\n// export default App;"],"mappings":"kRAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,cAAc,CACrB,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,IAAI,KAAM,QAAQ,CACzB,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,MAAO,CAAAC,GAAG,KAAM,cAAc,CAC9B,OAASC,kBAAkB,CAAEC,eAAe,KAAQ,gCAAgC,CACpF,MAAO,CAAAC,gBAAgB,KAAM,oBAAoB,CACjD,MAAO,CAAAC,eAAe,KAAM,mBAAmB,CAC/C,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,CAAAC,kBAAkB,KAAM,sBAAsB,CACrD,OAASC,MAAM,CAAEC,KAAK,CAAEC,WAAW,CAAEC,QAAQ,KAAQ,kBAAkB,CACvE,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAC7C,MAAO,GAAK,CAAAC,IAAI,KAAM,eAAe,CACrC,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,KAAK,KAAM,SAAS,CAC3B,MAAO,CAAAC,QAAQ,KAAM,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAElC,QAAS,CAAAC,GAAGA,CAAA,CAAG,CAEb,IAAAC,SAAA,CAA4D3B,QAAQ,CAAC,KAAK,CAAC,CAAA4B,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAApEG,sBAAsB,CAAAF,UAAA,IAAEG,yBAAyB,CAAAH,UAAA,IACxD,IAAAI,UAAA,CAAsDhC,QAAQ,CAAC,KAAK,CAAC,CAAAiC,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA9DE,mBAAmB,CAAAD,UAAA,IAAEE,sBAAsB,CAAAF,UAAA,IAClD,IAAAG,UAAA,CAA0DpC,QAAQ,CAAC,KAAK,CAAC,CAAAqC,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAlEE,qBAAqB,CAAAD,UAAA,IAAEE,wBAAwB,CAAAF,UAAA,IAEtD,IAAAG,UAAA,CAAgDxC,QAAQ,CAAC,KAAK,CAAC,CAAAyC,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAAxDE,gBAAgB,CAAAD,UAAA,IAAEE,mBAAmB,CAAAF,UAAA,IAE5C,IAAAG,UAAA,CAAgE5C,QAAQ,CAAC,KAAK,CAAC,CAAA6C,WAAA,CAAAhB,cAAA,CAAAe,UAAA,IAAxEE,wBAAwB,CAAAD,WAAA,IAAEE,2BAA2B,CAAAF,WAAA,IAC5D,IAAAG,WAAA,CAA0DhD,QAAQ,CAAC,KAAK,CAAC,CAAAiD,WAAA,CAAApB,cAAA,CAAAmB,WAAA,IAAlEE,sBAAsB,CAAAD,WAAA,IAAEE,uBAAuB,CAAAF,WAAA,IAEtD,IAAAG,WAAA,CAAgDpD,QAAQ,CAAC,KAAK,CAAC,CAAAqD,WAAA,CAAAxB,cAAA,CAAAuB,WAAA,IAAxDE,eAAe,CAAAD,WAAA,IAAEE,oBAAoB,CAAAF,WAAA,IAE5C,IAAAG,WAAA,CAAwCxD,QAAQ,CAAC,IAAI,CAAC,CAAAyD,WAAA,CAAA5B,cAAA,CAAA2B,WAAA,IAA/CE,YAAY,CAAAD,WAAA,IAAEE,eAAe,CAAAF,WAAA,IACpC,IAAAG,WAAA,CAA0B5D,QAAQ,CAAC,EAAE,CAAC,CAAA6D,WAAA,CAAAhC,cAAA,CAAA+B,WAAA,IAA/BE,KAAK,CAAAD,WAAA,IAAEE,QAAQ,CAAAF,WAAA,IACtB,IAAAG,WAAA,CAAsChE,QAAQ,CAACQ,eAAe,CAAC,CAAAyD,WAAA,CAAApC,cAAA,CAAAmC,WAAA,IAAxDE,WAAW,CAAAD,WAAA,IAAEE,cAAc,CAAAF,WAAA,IAElC,IAAAG,WAAA,CAA0BpE,QAAQ,CAAC,IAAI,CAAC,CAAAqE,WAAA,CAAAxC,cAAA,CAAAuC,WAAA,IAAjCE,KAAK,CAAAD,WAAA,IAAEE,QAAQ,CAAAF,WAAA,IACtB,IAAAG,WAAA,CAAoCxE,QAAQ,CAAC,KAAK,CAAC,CAAAyE,WAAA,CAAA5C,cAAA,CAAA2C,WAAA,IAA5CE,UAAU,CAAAD,WAAA,IAAEE,aAAa,CAAAF,WAAA,IAEhC,IAAAG,WAAA,CAAkC5E,QAAQ,CAAC,KAAK,CAAC,CAAA6E,WAAA,CAAAhD,cAAA,CAAA+C,WAAA,IAA1CE,SAAS,CAAAD,WAAA,IAAEE,YAAY,CAAAF,WAAA,IAE9B,GAAM,CAAAG,QAAQ,CAAGjE,WAAW,EAAE,CAG9Bd,SAAS,CAAC,UAAM,CACd,GAAM,CAAAgF,MAAM,CAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAC7C,GAAIF,MAAM,CAAE,CACV/D,IAAI,CAACkE,UAAU,CAACH,MAAM,CAAC,CACpBI,IAAI,CAAC,SAACC,GAAG,CAAK,CACb,GAAIA,GAAG,CAAE,CACPX,aAAa,CAAC,IAAI,CAAC,CACnBJ,QAAQ,CAACe,GAAG,CAAChB,KAAK,CAAC,CACnBU,QAAQ,CAAC,GAAG,CAAE,CAAEO,OAAO,CAAE,IAAK,CAAC,CAAC,CAClC,CACF,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,GAAG,CAAK,CACd,GAAIA,GAAG,CAACC,MAAM,GAAK,GAAG,CAAE,CACtBC,OAAO,CAACC,GAAG,CAAC,qDAAqD,CAAC,CACpE,CAAC,IAAM,IAAIH,GAAG,CAACC,MAAM,GAAK,GAAG,CAAE,CAC7BC,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAC,CACnD,CACF,CAAC,CAAC,CACN,CACF,CAAC,CACC,EAAE,CAAC,CAEL;AAEA;AACA,GAAM,CAAAC,oBAAoB,CAAG,QAAvB,CAAAA,oBAAoBA,CAAIvB,KAAK,CAAEwB,QAAQ,CAAK,CAChD5E,IAAI,CAAC6E,QAAQ,CAACzB,KAAK,CAAEwB,QAAQ,CAAC,CAC3BT,IAAI,CAAC,SAACC,GAAG,CAAK,CACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAnC,uBAAuB,CAAC,IAAI,CAAC,CAC7B4B,YAAY,CAAC,IAAI,CAAC,CAClBC,QAAQ,CAAC,UAAU,CAAC,CACtB,CAAC,CAAC,CACDQ,KAAK,CAAC,SAAAC,GAAG,CAAI,CACZ,GAAIA,GAAG,CAACC,MAAM,GAAK,GAAG,CAAE,CACtBC,OAAO,CAACC,GAAG,CAAC,2CAA2C,CAAC,CAC1D,CACAzC,uBAAuB,CAAC,IAAI,CAAC,CAC7B4B,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CAAC,CACN,CAAC,CAID;AACA,GAAM,CAAAiB,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAI1B,KAAK,CAAEwB,QAAQ,CAAK,CAC7C5E,IAAI,CAAC+E,KAAK,CAAC3B,KAAK,CAAEwB,QAAQ,CAAC,CACxBT,IAAI,CAAC,SAACC,GAAG,CAAK,CACbJ,YAAY,CAACgB,OAAO,CAAC,QAAQ,CAAEZ,GAAG,CAACa,GAAG,CAAC,CACvCxB,aAAa,CAAC,IAAI,CAAC,CACnBJ,QAAQ,CAACD,KAAK,CAAC,CACfU,QAAQ,CAAC,GAAG,CAAC,CAEf,CAAC,CAAC,CACDQ,KAAK,CAAC,SAACC,GAAG,CAAK,CACd;AACA;AACA;AACA;AACA,GAAIA,GAAG,CAACC,MAAM,GAAK,GAAG,CAAE,CACtBC,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC,CAChD,CAAC,IAAM,IAAIH,GAAG,CAACC,MAAM,GAAK,GAAG,CAAE,CAC7BC,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC,CACrD,CACAzC,uBAAuB,CAAC,IAAI,CAAC,CAC7B4B,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CAAC,CACN,CAAC,CAED,GAAM,CAAAqB,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CAC1BlB,YAAY,CAACmB,UAAU,CAAC,QAAQ,CAAC,CACjC1B,aAAa,CAAC,KAAK,CAAC,CACpBJ,QAAQ,CAAC,IAAI,CAAC,CACdR,QAAQ,CAAC,EAAE,CAAC,CACZiB,QAAQ,CAAC,GAAG,CAAE,CAAEO,OAAO,CAAE,IAAK,CAAC,CAAC,CAClC,CAAC,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACAtF,SAAS,CAAC,UAAM,CACd,GAAM,CAAAgF,MAAM,CAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAC7C,GAAIF,MAAM,CAAE,CACV;AACAqB,OAAO,CAACC,GAAG,CAAC,CAACjG,GAAG,CAACkG,SAAS,EAAE,CAAElG,GAAG,CAACmG,cAAc,EAAE,CAAC,CAAC,CAACpB,IAAI,CAAC,SAAAqB,IAAA,CAAmB,KAAAC,KAAA,CAAA9E,cAAA,CAAA6E,IAAA,IAAjBE,IAAI,CAAAD,KAAA,IAAE7C,KAAK,CAAA6C,KAAA,IACrExC,cAAc,CAACyC,IAAI,CAAC,CACpB7C,QAAQ,CAACD,KAAK,CAAC,CACjB,CAAC,CAAC,CAAC0B,KAAK,CAAC,SAACC,GAAG,CAAK,CAChBE,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC,CAClB,CAAC,CAAC,CACJ,CACF,CAAC,CACC;AACA,CAACf,UAAU,CAAC,CAAC,CAGf;AACA;AACA;AAEA,QAAS,CAAAmC,aAAaA,CAAA,CAAG,CACvBtD,oBAAoB,CAAC,SAACD,eAAe,QAAK,CAACA,eAAe,GAAC,CAC7D,CAGA,QAAS,CAAAwD,sBAAsBA,CAAA,CAAG,CAChC/E,yBAAyB,CAAC,IAAI,CAAC,CACjC,CAEA,QAAS,CAAAgF,mBAAmBA,CAAA,CAAG,CAC7B5E,sBAAsB,CAAC,IAAI,CAAC,CAC9B,CAEA,QAAS,CAAA6E,qBAAqBA,CAAA,CAAG,CAC/BzE,wBAAwB,CAAC,IAAI,CAAC,CAChC,CAGA,QAAS,CAAA0E,eAAeA,CAACC,IAAI,CAAE,CAC7BvD,eAAe,CAACuD,IAAI,CAAC,CACrBvE,mBAAmB,CAAC,IAAI,CAAC,CAC3B,CAEA,QAAS,CAAAwE,wBAAwBA,CAACD,IAAI,CAAE,CACtCvD,eAAe,CAACuD,IAAI,CAAC,CACrBnE,2BAA2B,CAAC,IAAI,CAAC,CACnC,CAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,QAAS,CAAAqE,cAAcA,CAACF,IAAI,CAAE,CAC5B,GAAM,CAAAG,OAAO,CAAGH,IAAI,CAACI,KAAK,CAACC,IAAI,CAAC,SAAAC,CAAC,QAAI,CAAAA,CAAC,CAACrB,GAAG,GAAKjC,WAAW,CAACiC,GAAG,GAAC,CAE/D7F,GAAG,CAACmH,oBAAoB,CAACP,IAAI,CAACf,GAAG,CAAE,CAACkB,OAAO,CAAC,CACzChC,IAAI,CAAC,SAACqC,OAAO,CAAK,CACjB3D,QAAQ,CAAC,SAAC4D,KAAK,QAAK,CAAAA,KAAK,CAACC,GAAG,CAAC,SAACC,CAAC,QAAK,CAAAA,CAAC,CAAC1B,GAAG,GAAKe,IAAI,CAACf,GAAG,CAAGuB,OAAO,CAAGG,CAAC,GAAC,GAAC,CACzE,CAAC,CAAC,CACDrC,KAAK,CAAC,SAACC,GAAG,CAAK,CAAEE,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC,CAAC,CAAC,CAAC,CACzC,CAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,QAAS,CAAAqC,gBAAgBA,CAAA,CAAG,CAC1BxH,GAAG,CAACyH,UAAU,CAACrE,YAAY,CAACyC,GAAG,CAAC,CAC7Bd,IAAI,CAAC,UAAM,CACVtB,QAAQ,CAAC,SAACD,KAAK,QAAK,CAAAA,KAAK,CAACkE,MAAM,CAAC,SAACC,IAAI,QAAK,CAAAA,IAAI,CAAC9B,GAAG,GAAKzC,YAAY,CAACyC,GAAG,GAAC,GAAC,CAC1E+B,cAAc,EAAE,CAClB,CAAC,CAAC,CACD1C,KAAK,CAAC,SAACC,GAAG,CAAK,CAAEE,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC,CAAC,CAAC,CAAC,CACpC0C,OAAO,CAAC,iBAAM,CAAAtB,aAAa,EAAE,GAAC,CACnC,CAEA,QAAS,CAAAuB,aAAaA,CAAClB,IAAI,CAAE,CAC3B5G,GAAG,CAAC+H,UAAU,CAACnB,IAAI,CAAC,CACjB7B,IAAI,CAAC,SAACqC,OAAO,CAAK,CACjB3D,QAAQ,EAAE2D,OAAO,EAAAY,MAAA,CAAAC,kBAAA,CAAKzE,KAAK,GAAE,CAC7BoE,cAAc,EAAE,CAClB,CAAC,CAAC,CACD1C,KAAK,CAAC,SAACC,GAAG,CAAK,CAAEE,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC,CAAC,CAAC,CAAC,CACpC0C,OAAO,CAAC,iBAAM,CAAAtB,aAAa,EAAE,GAAC,CACnC,CAIA,QAAS,CAAA2B,mBAAmBA,CAACC,QAAQ,CAAE,CACrCnI,GAAG,CACAoI,iBAAiB,CAACD,QAAQ,CAAC,CAC3BpD,IAAI,CAAC,SAACsD,cAAc,CAAK,CACxBxE,cAAc,CAACwE,cAAc,CAAC,CAC9BT,cAAc,EAAE,CAClB,CAAC,CAAC,CACD1C,KAAK,CAAC,SAACC,GAAG,QAAK,CAAAE,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC,GAAC,CAChC0C,OAAO,CAAC,iBAAM,CAAAtB,aAAa,EAAE,GAAC,CACnC,CAEA,QAAS,CAAA+B,kBAAkBA,CAACC,UAAU,CAAE,CACtCvI,GAAG,CAACwI,gBAAgB,CAACD,UAAU,CAAC,CAACxD,IAAI,CAAC,SAAC0D,gBAAgB,CAAK,CAC1D5E,cAAc,CAAC4E,gBAAgB,CAAC,CAChCb,cAAc,EAAE,CAClB,CAAC,CAAC,CAAC1C,KAAK,CAAC,SAACC,GAAG,CAAK,CAAEE,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC,CAAC,CAAC,CAAC,CACpC0C,OAAO,CAAC,iBAAM,CAAAtB,aAAa,EAAE,GAAC,CACnC,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA,QAAS,CAAAmC,gBAAgBA,CAACC,KAAK,CAAE,CAC/B,GAAIA,KAAK,CAACC,GAAG,GAAK,QAAQ,CAAE,CAC1BhB,cAAc,EAAE,CAClB,CACF,CAEA,QAAS,CAAAiB,iBAAiBA,CAACF,KAAK,CAAE,CAChC,GAAIA,KAAK,CAACG,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,cAAc,CAAC,CAAE,CACnDpB,cAAc,EAAE,CAClB,CACF,CAEA,QAAS,CAAAA,cAAcA,CAAA,CAAG,CACxBnG,yBAAyB,CAAC,KAAK,CAAC,CAChCQ,wBAAwB,CAAC,KAAK,CAAC,CAC/BJ,sBAAsB,CAAC,KAAK,CAAC,CAC7BwB,eAAe,CAAC,IAAI,CAAC,CACrBZ,2BAA2B,CAAC,KAAK,CAAC,CAClCI,uBAAuB,CAAC,KAAK,CAAC,CAChC,CAKA,mBACE5B,IAAA,CAAChB,kBAAkB,CAACgJ,QAAQ,EAACC,KAAK,CAAEtF,WAAY,CAAAuF,QAAA,cAC9ChI,KAAA,QAAKiI,SAAS,CAAC,MAAM,CAAAD,QAAA,eACnBlI,IAAA,CAACpB,MAAM,EACLmE,KAAK,CAAEA,KAAM,CACbqF,SAAS,CAAEvD,aAAc,CACzB1B,UAAU,CAAEA,UAAW,EACvB,cACFjD,KAAA,CAACZ,MAAM,EAAA4I,QAAA,eACLlI,IAAA,CAACT,KAAK,EAAC8I,IAAI,CAAC,GAAG,CACbC,OAAO,cAAEtI,IAAA,CAACN,cAAc,EACtB6I,YAAY,CAAE9C,qBAAsB,CACpC+C,aAAa,CAAEjD,sBAAuB,CACtCkD,UAAU,CAAEjD,mBAAoB,CAChCkD,WAAW,CAAEhD,eAAgB,CAC7BiD,UAAU,CAAE9C,cAAe,CAC3B+C,YAAY,CAAEhD,wBAAyB,CACvCrD,KAAK,CAAEA,KAAM,CACbsG,QAAQ,CAAE1F,UAAW,CACrBmF,OAAO,CAAEzJ,IAAK,EACb,EACH,cACFmB,IAAA,CAACT,KAAK,EAAC8I,IAAI,CAAC,UAAU,CACpBC,OAAO,cAAEtI,IAAA,CAACH,KAAK,EAACiJ,OAAO,CAAErE,iBAAkB,EAAI,EAAG,cACpDzE,IAAA,CAACT,KAAK,EAAC8I,IAAI,CAAC,UAAU,CACpBC,OAAO,cAAEtI,IAAA,CAACF,QAAQ,EAACiJ,UAAU,CAAEzE,oBAAqB,EAAI,EAAG,GACtD,CACRnB,UAAU,eAAInD,IAAA,CAACrB,MAAM,IAAG,cACzBqB,IAAA,CAACd,gBAAgB,EACf8J,MAAM,CAAEzI,sBAAuB,CAC/B0I,OAAO,CAAEtC,cAAe,CACxBuC,eAAe,CAAEjC,mBAAoB,CACrClF,eAAe,CAAEA,eAAgB,CACjCuD,aAAa,CAAEA,aAAc,EAC7B,cACFtF,IAAA,CAACZ,aAAa,EACZ4J,MAAM,CAAErI,mBAAoB,CAC5BsI,OAAO,CAAEtC,cAAe,CACxB8B,UAAU,CAAE5B,aAAc,CAC1B9E,eAAe,CAAEA,eAAgB,CACjCuD,aAAa,CAAEA,aAAc,EAC7B,cACFtF,IAAA,CAAClB,UAAU,EACT6G,IAAI,CAAExD,YAAa,CACnB6G,MAAM,CAAE7H,gBAAiB,CACzB8H,OAAO,CAAEtC,cAAe,EACxB,cACF3G,IAAA,CAACX,kBAAkB,EACjB2J,MAAM,CAAEzH,wBAAyB,CACjC0H,OAAO,CAAEtC,cAAe,CACxBwC,YAAY,CAAE5C,gBAAiB,CAC/BxE,eAAe,CAAEA,eAAgB,CACjCuD,aAAa,CAAEA,aAAc,EAC7B,cACFtF,IAAA,CAACb,eAAe,EACd6J,MAAM,CAAEjI,qBAAsB,CAC9BkI,OAAO,CAAEtC,cAAe,CACxByC,cAAc,CAAE/B,kBAAmB,CACnCtF,eAAe,CAAEA,eAAgB,CACjCuD,aAAa,CAAEA,aAAc,EAC7B,cACFtF,IAAA,CAACJ,WAAW,EACVoJ,MAAM,CAAErH,sBAAuB,CAC/BsH,OAAO,CAAEtC,cAAe,CACxBpD,SAAS,CAAEA,SAAU,EACrB,GACE,EACsB,CAElC,CAEA,cAAe,CAAApD,GAAG,CAElB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}