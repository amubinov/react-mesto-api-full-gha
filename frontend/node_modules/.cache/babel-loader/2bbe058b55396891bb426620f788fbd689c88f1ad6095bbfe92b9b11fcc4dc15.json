{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\react-mesto-api-full-gha\\\\frontend\\\\src\\\\components\\\\PopupWithForm.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PopupWithForm(_ref) {\n  _s();\n  let {\n    onClose,\n    name,\n    isOpen,\n    onSubmit,\n    title,\n    children,\n    textButton,\n    isValid\n  } = _ref;\n  //Закрываем попапы по кнопке Escape \n\n  useEffect(() => {\n    function onCloseEsc(evt) {\n      if (evt.key === \"Escape\") {\n        onClose();\n      }\n    }\n    if (isOpen) {\n      document.addEventListener(\"keydown\", onCloseEsc);\n    }\n\n    //  через `return` = `clean up`-функция. Она срабатывает при перерисовке или размонтировании\n    return () => {\n      document.removeEventListener(\"keydown\", onCloseEsc);\n    };\n  }, [isOpen]);\n\n  //  Закрываем попапы по  клику на Overlay\n  useEffect(() => {\n    function onCloseOverlay(evt) {\n      if (evt.target.classList.contains('popup_opened')) {\n        onClose();\n      }\n    }\n    if (isOpen) {\n      document.addEventListener('mousedown', onCloseOverlay);\n    }\n    return () => {\n      document.removeEventListener(\"mousedown\", onCloseOverlay);\n    };\n  }, [isOpen]);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: `popup ${name} ${isOpen ? 'popup_opened' : ''}`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popup__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"popup__close\",\n        type: \"button\",\n        \"aria-label\": \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\",\n        onClick: onClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: `popup__form popup__form_type_${name}`,\n        name: `${name}-form`,\n        onSubmit: onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"popup__title\",\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 6\n        }, this), children, /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `popup__submit-button ${isValid ? '' : 'popup__submit-button_disabled'} `,\n          type: \"submit\",\n          children: textButton\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 3\n  }, this);\n}\n_s(PopupWithForm, \"3ubReDTFssvu4DHeldAg55cW/CI=\");\n_c = PopupWithForm;\nexport default PopupWithForm;\nvar _c;\n$RefreshReg$(_c, \"PopupWithForm\");","map":{"version":3,"names":["React","useEffect","jsxDEV","_jsxDEV","PopupWithForm","_ref","_s","onClose","name","isOpen","onSubmit","title","children","textButton","isValid","onCloseEsc","evt","key","document","addEventListener","removeEventListener","onCloseOverlay","target","classList","contains","className","type","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/User/react-mesto-api-full-gha/frontend/src/components/PopupWithForm.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\n\r\nfunction PopupWithForm({ onClose, name, isOpen, onSubmit,\r\n\ttitle,\r\n\tchildren,\r\n\ttextButton, isValid }) {\r\n\r\n\t//Закрываем попапы по кнопке Escape \r\n\r\n\tuseEffect(() => {\r\n\t\tfunction onCloseEsc(evt) {\r\n\t\t\tif (evt.key === \"Escape\") {\r\n\t\t\t\tonClose();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (isOpen) {\r\n\t\t\tdocument.addEventListener(\"keydown\", onCloseEsc);\r\n\t\t}\r\n\r\n\t\t//  через `return` = `clean up`-функция. Она срабатывает при перерисовке или размонтировании\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener(\"keydown\", onCloseEsc);\r\n\t\t};\r\n\t}, [isOpen]);\r\n\r\n\r\n\t//  Закрываем попапы по  клику на Overlay\r\n\tuseEffect(() => {\r\n\t\tfunction onCloseOverlay(evt) {\r\n\t\t\tif (evt.target.classList.contains('popup_opened')) {\r\n\t\t\t\tonClose();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (isOpen) {\r\n\t\t\tdocument.addEventListener('mousedown', onCloseOverlay);\r\n\t\t}\r\n\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener(\"mousedown\", onCloseOverlay);\r\n\t\t};\r\n\t}, [isOpen]);\r\n\r\n\treturn (\r\n\t\t<section\r\n\t\t\tclassName={`popup ${name} ${isOpen ? 'popup_opened' : ''\r\n\t\t\t\t}`}\r\n\t\t>\r\n\t\t\t<div className=\"popup__container\">\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"popup__close\"\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\taria-label=\"Закрыть\"\r\n\t\t\t\t\tonClick={onClose}\r\n\t\t\t\t/>\r\n\t\t\t\t<form\r\n\t\t\t\t\tclassName={`popup__form popup__form_type_${name}`}\r\n\t\t\t\t\tname={`${name}-form`}\r\n\t\t\t\t\tonSubmit={onSubmit}\r\n\t\t\t\t>\r\n\t\t\t\t\t<h2 className=\"popup__title\">{title}</h2>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName={`popup__submit-button ${isValid ? '' : 'popup__submit-button_disabled'} `}\r\n\t\t\t\t\t\ttype=\"submit\">\r\n\t\t\t\t\t\t{textButton}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t)\r\n}\r\n\r\nexport default PopupWithForm\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzC,SAASC,aAAaA,CAAAC,IAAA,EAGE;EAAAC,EAAA;EAAA,IAHD;IAAEC,OAAO;IAAEC,IAAI;IAAEC,MAAM;IAAEC,QAAQ;IACvDC,KAAK;IACLC,QAAQ;IACRC,UAAU;IAAEC;EAAQ,CAAC,GAAAT,IAAA;EAErB;;EAEAJ,SAAS,CAAC,MAAM;IACf,SAASc,UAAUA,CAACC,GAAG,EAAE;MACxB,IAAIA,GAAG,CAACC,GAAG,KAAK,QAAQ,EAAE;QACzBV,OAAO,EAAE;MACV;IACD;IACA,IAAIE,MAAM,EAAE;MACXS,QAAQ,CAACC,gBAAgB,CAAC,SAAS,EAAEJ,UAAU,CAAC;IACjD;;IAEA;IACA,OAAO,MAAM;MACZG,QAAQ,CAACE,mBAAmB,CAAC,SAAS,EAAEL,UAAU,CAAC;IACpD,CAAC;EACF,CAAC,EAAE,CAACN,MAAM,CAAC,CAAC;;EAGZ;EACAR,SAAS,CAAC,MAAM;IACf,SAASoB,cAAcA,CAACL,GAAG,EAAE;MAC5B,IAAIA,GAAG,CAACM,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,cAAc,CAAC,EAAE;QAClDjB,OAAO,EAAE;MACV;IACD;IACA,IAAIE,MAAM,EAAE;MACXS,QAAQ,CAACC,gBAAgB,CAAC,WAAW,EAAEE,cAAc,CAAC;IACvD;IAEA,OAAO,MAAM;MACZH,QAAQ,CAACE,mBAAmB,CAAC,WAAW,EAAEC,cAAc,CAAC;IAC1D,CAAC;EACF,CAAC,EAAE,CAACZ,MAAM,CAAC,CAAC;EAEZ,oBACCN,OAAA;IACCsB,SAAS,EAAG,SAAQjB,IAAK,IAAGC,MAAM,GAAG,cAAc,GAAG,EACpD,EAAE;IAAAG,QAAA,eAEJT,OAAA;MAAKsB,SAAS,EAAC,kBAAkB;MAAAb,QAAA,gBAChCT,OAAA;QACCsB,SAAS,EAAC,cAAc;QACxBC,IAAI,EAAC,QAAQ;QACb,cAAW,4CAAS;QACpBC,OAAO,EAAEpB;MAAQ;QAAAqB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAChB,eACF5B,OAAA;QACCsB,SAAS,EAAG,gCAA+BjB,IAAK,EAAE;QAClDA,IAAI,EAAG,GAAEA,IAAK,OAAO;QACrBE,QAAQ,EAAEA,QAAS;QAAAE,QAAA,gBAEnBT,OAAA;UAAIsB,SAAS,EAAC,cAAc;UAAAb,QAAA,EAAED;QAAK;UAAAiB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAM,EACxCnB,QAAQ,eACTT,OAAA;UACCsB,SAAS,EAAG,wBAAuBX,OAAO,GAAG,EAAE,GAAG,+BAAgC,GAAG;UACrFY,IAAI,EAAC,QAAQ;UAAAd,QAAA,EACZC;QAAU;UAAAe,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACH;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACH;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EACF;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACG;AAEZ;AAACzB,EAAA,CApEQF,aAAa;AAAA4B,EAAA,GAAb5B,aAAa;AAsEtB,eAAeA,aAAa;AAAA,IAAA4B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}