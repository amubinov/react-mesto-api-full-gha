{"ast":null,"code":"import _toConsumableArray from\"C:/Users/User/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/User/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'../index.css';import Footer from'./Footer';import Header from'./Header';import Main from'./Main';import ImagePopup from'./ImagePopup';import api from'../utils/api';import{CurrentUserContext}from'../contexts/CurrentUserContext';import EditProfilePopup from'./EditProfilePopup';import EditAvatarPopup from'./EditAvatarPopup';import AddPlacePopup from'./AddPlacePopup';import ConfirmDeletePopup from'./ConfirmDeletePopup';import{Routes,Route,Navigate,useNavigate}from'react-router-dom';import ProtectedRoute from'./ProtectedRoute';import*as auth from'../utils/auth';import InfoTooltip from'./InfoTooltip';import Login from'./Login';import Register from'./Register';import UnionBlack from'../images/UnionBlack.svg';import UnionRed from'../images/UnionRed.svg';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isEditProfilePopupOpen=_useState2[0],setIsEditProfilePopupOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isAddPlacePopupOpen=_useState4[0],setIsAddPlacePopupOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isEditAvatarPopupOpen=_useState6[0],setIsEditAvatarPopupOpen=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),selectedCard=_useState8[0],setSelectedCard=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),cards=_useState10[0],setCards=_useState10[1];var _useState11=useState({}),_useState12=_slicedToArray(_useState11,2),currentUser=_useState12[0],setCurrentUser=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isConfirmDeletePopupOpen=_useState14[0],setIsConfirmDeletePopupOpen=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),isEmail=_useState16[0],setIsEmail=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),isLoggedIn=_useState18[0],setIsLoggedIn=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),isInfoTooltipPopupOpen=_useState20[0],setInfoTooltipPopupOpen=_useState20[1];var _useState21=useState({image:'',message:''}),_useState22=_slicedToArray(_useState21,2),popupStatus=_useState22[0],setPopupStatus=_useState22[1];var navigate=useNavigate();useEffect(function(){var userId=localStorage.getItem('userId');if(userId){auth.checkToken(userId).then(function(res){if(res){setIsLoggedIn(true);setIsEmail(res.email);navigate('/',{replace:true});}}).catch(function(err){localStorage.removeItem('userId');console.log(err);});}},[navigate]);// Регистрация пользователя\nvar handleRegisterSubmit=function handleRegisterSubmit(email,password){auth.register(email,password).then(function(res){if(res){setPopupStatus({image:UnionBlack,message:'Вы успешно зарегистрировались!'});navigate(\"/sign-in\");setIsLoggedIn(true);setIsEmail(res.email);}}).catch(function(){setPopupStatus({image:UnionRed,message:'Что-то пошло не так! Попробуйте еще раз.'});}).finally(handleInfoTooltip);};// Вход в аккаунт\nvar handleLoginSubmit=function handleLoginSubmit(email,password){auth.authorize(email,password).then(function(res){localStorage.setItem('userId',res._id);setIsLoggedIn(true);setIsEmail(res.email);navigate(\"/\");}).catch(function(err){setPopupStatus({image:UnionRed,message:'Что-то пошло не так! Попробуйте еще раз.'});handleInfoTooltip();});};var handleSignOut=function handleSignOut(){localStorage.removeItem('userId');setIsLoggedIn(false);setIsEmail(null);setCards([]);navigate('/',{replace:true});};// Получение данных текущего пользователя и начальных карточек\nuseEffect(function(){if(isLoggedIn){api.getMyInfo().then(function(data){setCurrentUser(data);}).catch(function(err){console.log(err);});}},[isLoggedIn]);useEffect(function(){if(isLoggedIn){api.getServerCards().then(function(cards){setCards(cards);}).catch(function(err){console.log(err);});}},[isLoggedIn]);function handleInfoTooltip(){setInfoTooltipPopupOpen(true);};function handleCardLike(card){// Снова проверяем, есть ли уже лайк на этой карточке\nvar isLiked=card.likes.some(function(like){return like._id===currentUser._id;});// Отправляем запрос в API и получаем обновлённые данные карточки\nif(!isLiked){api.addLike(card._id,isLiked).then(function(newCard){setCards(function(state){return state.map(function(c){return c._id===card._id?newCard:c;});});}).catch(function(err){console.error(err);});}else{api.deleteLike(card._id).then(function(newCard){setCards(function(state){return state.map(function(c){return c._id===card._id?newCard:c;});});}).catch(function(err){console.error(err);});}}function handleCardDelete(card){api.deleteCard(card._id).then(function(){setCards(function(state){return state.filter(function(c){return c._id!==card._id&&c;});});closeAllPopups();}).catch(function(err){console.error(err);});}function handleChangeProfile(userData){api.changeProfileData(userData).then(function(serverUserData){setCurrentUser(serverUserData);closeAllPopups();}).catch(function(err){return console.log(err);});}function handleChangeAvatar(userAvatar){api.changeUserAvatar(userAvatar).then(function(serverUserAvatar){setCurrentUser(serverUserAvatar);closeAllPopups();}).catch(function(err){console.error(err);});}function handleAddPlaceSubmit(items){api.addCard(items).then(function(newCard){setCards([newCard].concat(_toConsumableArray(cards)));closeAllPopups();}).catch(function(err){return console.log(err);});}function closePopupEscape(event){if(event.key==='Escape'){closeAllPopups();}}function closePopupOverlay(event){if(event.target.classList.contains('popup_opened')){closeAllPopups();}}function closeAllPopups(){setIsEditProfilePopupOpen(false);setIsEditAvatarPopupOpen(false);setIsAddPlacePopupOpen(false);setSelectedCard(null);setIsConfirmDeletePopupOpen(false);setInfoTooltipPopupOpen(false);}return/*#__PURE__*/_jsx(CurrentUserContext.Provider,{value:currentUser,children:/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/sign-up\",element:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{title:\"\\u0412\\u043E\\u0439\\u0442\\u0438\",route:\"/sign-in\"}),/*#__PURE__*/_jsx(Register,{onRegister:handleRegisterSubmit})]})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-in\",element:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{title:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\",route:\"/sign-up\"}),/*#__PURE__*/_jsx(Login,{onLogin:handleLoginSubmit})]})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{title:\"\\u0412\\u044B\\u0439\\u0442\\u0438\",route:\"\",email:isEmail,onClick:handleSignOut}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/\",component:Main,isLoggedIn:isLoggedIn,onEditAvatar:function onEditAvatar(){return setIsEditAvatarPopupOpen(true);},onEditProfile:function onEditProfile(){return setIsEditProfilePopupOpen(true);},onAddPlace:function onAddPlace(){return setIsAddPlacePopupOpen(true);},onCardClick:function onCardClick(card){return setSelectedCard(card);},cards:cards,onCardLike:handleCardLike,onConfirmCardDelete:function onConfirmCardDelete(card){return setIsConfirmDeletePopupOpen(card);}}),/*#__PURE__*/_jsx(Footer,{})]})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:isLoggedIn?/*#__PURE__*/_jsx(Navigate,{to:\"/\"}):/*#__PURE__*/_jsx(Navigate,{to:\"/sign-in\"})})]}),/*#__PURE__*/_jsx(EditProfilePopup,{isOpen:isEditProfilePopupOpen,onClose:closeAllPopups,onCloseEscape:closePopupEscape,onCloseOverlay:closePopupOverlay,onChangeUser:handleChangeProfile}),/*#__PURE__*/_jsx(EditAvatarPopup,{isOpen:isEditAvatarPopupOpen,onClose:closeAllPopups,onCloseEscape:closePopupEscape,onCloseOverlay:closePopupOverlay,onChangeAvatar:handleChangeAvatar}),/*#__PURE__*/_jsx(AddPlacePopup,{isOpen:isAddPlacePopupOpen,onClose:closeAllPopups,onCloseEscape:closePopupEscape,onCloseOverlay:closePopupOverlay,onAddPlace:handleAddPlaceSubmit}),/*#__PURE__*/_jsx(ConfirmDeletePopup,{card:isConfirmDeletePopupOpen,name:\"popup_card-delete\",title:\"\\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B?\",textButton:\"\\u0414\\u0430\",onClose:closeAllPopups,onCardDelete:handleCardDelete}),/*#__PURE__*/_jsx(ImagePopup,{card:selectedCard,onClose:closeAllPopups,onCloseEscape:closePopupEscape,onCloseOverlay:closePopupOverlay}),/*#__PURE__*/_jsx(InfoTooltip,{popupStatus:popupStatus,isOpen:isInfoTooltipPopupOpen,onClose:closeAllPopups,onCloseEscape:closePopupEscape,onCloseOverlay:closePopupOverlay})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Footer","Header","Main","ImagePopup","api","CurrentUserContext","EditProfilePopup","EditAvatarPopup","AddPlacePopup","ConfirmDeletePopup","Routes","Route","Navigate","useNavigate","ProtectedRoute","auth","InfoTooltip","Login","Register","UnionBlack","UnionRed","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","isEditProfilePopupOpen","setIsEditProfilePopupOpen","_useState3","_useState4","isAddPlacePopupOpen","setIsAddPlacePopupOpen","_useState5","_useState6","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","_useState7","_useState8","selectedCard","setSelectedCard","_useState9","_useState10","cards","setCards","_useState11","_useState12","currentUser","setCurrentUser","_useState13","_useState14","isConfirmDeletePopupOpen","setIsConfirmDeletePopupOpen","_useState15","_useState16","isEmail","setIsEmail","_useState17","_useState18","isLoggedIn","setIsLoggedIn","_useState19","_useState20","isInfoTooltipPopupOpen","setInfoTooltipPopupOpen","_useState21","image","message","_useState22","popupStatus","setPopupStatus","navigate","userId","localStorage","getItem","checkToken","then","res","email","replace","catch","err","removeItem","console","log","handleRegisterSubmit","password","register","finally","handleInfoTooltip","handleLoginSubmit","authorize","setItem","_id","handleSignOut","getMyInfo","data","getServerCards","handleCardLike","card","isLiked","likes","some","like","addLike","newCard","state","map","c","error","deleteLike","handleCardDelete","deleteCard","filter","closeAllPopups","handleChangeProfile","userData","changeProfileData","serverUserData","handleChangeAvatar","userAvatar","changeUserAvatar","serverUserAvatar","handleAddPlaceSubmit","items","addCard","concat","_toConsumableArray","closePopupEscape","event","key","closePopupOverlay","target","classList","contains","Provider","value","children","className","path","element","title","route","onRegister","onLogin","onClick","component","onEditAvatar","onEditProfile","onAddPlace","onCardClick","onCardLike","onConfirmCardDelete","to","isOpen","onClose","onCloseEscape","onCloseOverlay","onChangeUser","onChangeAvatar","name","textButton","onCardDelete"],"sources":["C:/Users/User/react-mesto-api-full-gha/frontend/src/components/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport '../index.css';\r\nimport Footer from './Footer';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport ImagePopup from './ImagePopup';\r\nimport api from '../utils/api';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ConfirmDeletePopup from './ConfirmDeletePopup';\r\nimport { Routes, Route, Navigate, useNavigate } from 'react-router-dom';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport * as auth from '../utils/auth';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport UnionBlack from '../images/UnionBlack.svg'\r\nimport UnionRed from '../images/UnionRed.svg'\r\n\r\n\r\nfunction App() {\r\n\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n  const [cards, setCards] = useState([]);\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [isConfirmDeletePopupOpen, setIsConfirmDeletePopupOpen] = useState(false)\r\n  const [isEmail, setIsEmail] = useState(null);\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [isInfoTooltipPopupOpen, setInfoTooltipPopupOpen] = useState(false);\r\n  const [popupStatus, setPopupStatus] = useState({ image: '', message: '' });\r\n\r\n  const navigate = useNavigate();\r\n\r\n\r\n  useEffect(() => {\r\n    const userId = localStorage.getItem('userId');\r\n    if (userId) {\r\n      auth.checkToken(userId)\r\n        .then((res) => {\r\n          if (res) {\r\n            setIsLoggedIn(true);\r\n            setIsEmail(res.email);\r\n            navigate('/', { replace: true });\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          localStorage.removeItem('userId');\r\n          console.log(err);\r\n        });\r\n    }\r\n  },\r\n    [navigate]);\r\n\r\n  // Регистрация пользователя\r\n  const handleRegisterSubmit = (email, password) => {\r\n    auth.register(email, password)\r\n      .then((res) => {\r\n        if (res) {\r\n          setPopupStatus({\r\n            image: UnionBlack,\r\n            message: 'Вы успешно зарегистрировались!'\r\n          });\r\n          navigate(\"/sign-in\");\r\n          setIsLoggedIn(true);\r\n          setIsEmail(res.email);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        setPopupStatus({\r\n          image: UnionRed,\r\n          message: 'Что-то пошло не так! Попробуйте еще раз.'\r\n        });\r\n      })\r\n      .finally(handleInfoTooltip);\r\n  };\r\n\r\n\r\n  // Вход в аккаунт\r\n  const handleLoginSubmit = (email, password) => {\r\n    auth.authorize(email, password)\r\n      .then((res) => {\r\n        localStorage.setItem('userId', res._id);\r\n        setIsLoggedIn(true);\r\n        setIsEmail(res.email);\r\n        navigate(\"/\")\r\n\r\n      })\r\n      .catch((err) => {\r\n        setPopupStatus({ image: UnionRed, message: 'Что-то пошло не так! Попробуйте еще раз.' });\r\n        handleInfoTooltip();\r\n      });\r\n  };\r\n\r\n\r\n  const handleSignOut = () => {\r\n    localStorage.removeItem('userId');\r\n    setIsLoggedIn(false);\r\n    setIsEmail(null);\r\n    setCards([]);\r\n    navigate('/', { replace: true });\r\n  };\r\n\r\n  // Получение данных текущего пользователя и начальных карточек\r\n  useEffect(() => {\r\n    if (isLoggedIn) {\r\n      api.getMyInfo()\r\n        .then((data) => {\r\n          setCurrentUser(data)\r\n        })\r\n        .catch((err) => { console.log(err) })\r\n    }\r\n  }, [isLoggedIn]);\r\n\r\n  useEffect(() => {\r\n    if (isLoggedIn) {\r\n      api.getServerCards()\r\n        .then((cards) => {\r\n          setCards(cards);\r\n        })\r\n        .catch((err) => { console.log(err) })\r\n    }\r\n  }, [isLoggedIn])\r\n\r\n\r\n\r\n  function handleInfoTooltip() {\r\n    setInfoTooltipPopupOpen(true);\r\n  };\r\n\r\n  function handleCardLike(card) {\r\n    // Снова проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some((like) => like._id === currentUser._id);\r\n    // Отправляем запрос в API и получаем обновлённые данные карточки\r\n    if (!isLiked) {\r\n      api.addLike(card._id, isLiked).then((newCard) => {\r\n        setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\r\n      }).catch((err) => {\r\n        console.error(err);\r\n      });\r\n    } else {\r\n      api.deleteLike(card._id).then((newCard) => {\r\n        setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\r\n      }).catch((err) => {\r\n        console.error(err);\r\n      });\r\n    }\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCard(card._id).then(() => {\r\n      setCards((state) => state.filter((c) => c._id !== card._id && c));\r\n      closeAllPopups()\r\n    }).catch((err) => {\r\n      console.error(err);\r\n    });\r\n  }\r\n\r\n  function handleChangeProfile(userData) {\r\n    api\r\n      .changeProfileData(userData)\r\n      .then((serverUserData) => {\r\n        setCurrentUser(serverUserData);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleChangeAvatar(userAvatar) {\r\n    api.changeUserAvatar(userAvatar).then((serverUserAvatar) => {\r\n      setCurrentUser(serverUserAvatar);\r\n      closeAllPopups();\r\n    }).catch((err) => {\r\n      console.error(err);\r\n    })\r\n  }\r\n\r\n  function handleAddPlaceSubmit(items) {\r\n    api\r\n      .addCard(items)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function closePopupEscape(event) {\r\n    if (event.key === 'Escape') {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  function closePopupOverlay(event) {\r\n    if (event.target.classList.contains('popup_opened')) {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setSelectedCard(null);\r\n    setIsConfirmDeletePopupOpen(false);\r\n    setInfoTooltipPopupOpen(false);\r\n  }\r\n\r\n\r\n\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Routes>\r\n          <Route path='/sign-up'\r\n            element={\r\n              <>\r\n                <Header\r\n                  title='Войти'\r\n                  route='/sign-in'\r\n                />\r\n                <Register\r\n                  onRegister={handleRegisterSubmit}\r\n                />\r\n              </>\r\n            }\r\n          />\r\n          <Route path='/sign-in'\r\n            element={\r\n              <>\r\n                <Header\r\n                  title='Регистрация'\r\n                  route='/sign-up'\r\n                />\r\n                <Login\r\n                  onLogin={handleLoginSubmit}\r\n                />\r\n              </>\r\n            }\r\n          />\r\n          <Route path='/'\r\n            element={\r\n              <>\r\n                <Header\r\n                  title='Выйти'\r\n                  route=''\r\n                  email={isEmail}\r\n                  onClick={handleSignOut}\r\n                />\r\n                <ProtectedRoute\r\n                  path=\"/\"\r\n                  component={Main}\r\n                  isLoggedIn={isLoggedIn}\r\n                  onEditAvatar={() => setIsEditAvatarPopupOpen(true)}\r\n                  onEditProfile={() => setIsEditProfilePopupOpen(true)}\r\n                  onAddPlace={() => setIsAddPlacePopupOpen(true)}\r\n                  onCardClick={(card) => setSelectedCard(card)}\r\n                  cards={cards}\r\n                  onCardLike={handleCardLike}\r\n                  onConfirmCardDelete={(card) => setIsConfirmDeletePopupOpen(card)}\r\n                />\r\n                <Footer />\r\n              </>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"*\"\r\n            element={\r\n              isLoggedIn ? <Navigate to=\"/\" /> : <Navigate to=\"/sign-in\" />\r\n            }\r\n          />\r\n        </Routes>\r\n\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onCloseEscape={closePopupEscape}\r\n          onCloseOverlay={closePopupOverlay}\r\n          onChangeUser={handleChangeProfile}\r\n        />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onCloseEscape={closePopupEscape}\r\n          onCloseOverlay={closePopupOverlay}\r\n          onChangeAvatar={handleChangeAvatar}\r\n        />\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onCloseEscape={closePopupEscape}\r\n          onCloseOverlay={closePopupOverlay}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n        <ConfirmDeletePopup\r\n          card={isConfirmDeletePopupOpen}\r\n          name=\"popup_card-delete\"\r\n          title=\"Вы уверены?\"\r\n          textButton=\"Да\"\r\n          onClose={closeAllPopups}\r\n          onCardDelete={handleCardDelete}\r\n        />\r\n        <ImagePopup\r\n          card={selectedCard}\r\n          onClose={closeAllPopups}\r\n          onCloseEscape={closePopupEscape}\r\n          onCloseOverlay={closePopupOverlay}\r\n        />\r\n        <InfoTooltip\r\n          popupStatus={popupStatus}\r\n          isOpen={isInfoTooltipPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onCloseEscape={closePopupEscape}\r\n          onCloseOverlay={closePopupOverlay}\r\n        />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}