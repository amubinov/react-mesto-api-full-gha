{"ast":null,"code":"import _classCallCheck from\"C:/Users/User/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/User/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import{BASE_URL}from\"./auth\";var Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this._baseUrl=options.baseUrl;}_createClass(Api,[{key:\"_checkResponse\",value:function _checkResponse(res){if(res.ok){return res.json();}else{return Promise.reject(\"\".concat(res.status,\" \").concat(res.statusText));}}},{key:\"getMyInfo\",value:function getMyInfo(){var _this=this;return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:\"GET\",credentials:'include',headers:{'Content-Type':'application/json'}}).then(function(res){return _this._checkResponse(res);});}},{key:\"changeProfileData\",value:function changeProfileData(items){var _this2=this;return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:\"PATCH\",credentials:'include',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:items.name,about:items.about})}).then(function(res){return _this2._checkResponse(res);});}},{key:\"changeUserAvatar\",value:function changeUserAvatar(items){var _this3=this;return fetch(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{method:\"PATCH\",credentials:'include',headers:{'Content-Type':'application/json'},body:JSON.stringify({avatar:items.avatar})}).then(function(res){return _this3._checkResponse(res);});}},{key:\"getServerCards\",value:function getServerCards(){var _this4=this;return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:'GET',credentials:'include',headers:{}}).then(function(res){return _this4._checkResponse(res);});}},{key:\"addCard\",value:function addCard(_ref){var _this5=this;var name=_ref.name,link=_ref.link;return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:\"POST\",credentials:'include',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:name,link:link})}).then(function(res){return _this5._checkResponse(res);});}},{key:\"deleteCard\",value:function deleteCard(id){var _this6=this;return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id),{method:\"DELETE\",credentials:'include',headers:{}}).then(function(res){return _this6._checkResponse(res);});}},{key:\"addLike\",value:function addLike(cardId){var _this7=this;return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId,\"/likes\"),{method:\"PUT\",credentials:'include',headers:{'Content-Type':'application/json'}}).then(function(res){return _this7._checkResponse(res);});}},{key:\"deleteLike\",value:function deleteLike(cardId){var _this8=this;return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId,\"/likes\"),{method:\"DELETE\",credentials:'include',headers:{'Content-Type':'application/json'}}).then(function(res){return _this8._checkResponse(res);});}}]);return Api;}();/** Подключить API */var api=new Api({baseUrl:BASE_URL,headers:{'Accept':'application/json','Content-Type':'application/json'}});export default api;","map":{"version":3,"names":["BASE_URL","Api","options","_classCallCheck","_baseUrl","baseUrl","_createClass","key","value","_checkResponse","res","ok","json","Promise","reject","concat","status","statusText","getMyInfo","_this","fetch","method","credentials","headers","then","changeProfileData","items","_this2","body","JSON","stringify","name","about","changeUserAvatar","_this3","avatar","getServerCards","_this4","addCard","_ref","_this5","link","deleteCard","id","_this6","addLike","cardId","_this7","deleteLike","_this8","api"],"sources":["C:/Users/User/react-mesto-api-full-gha/frontend/src/utils/api.js"],"sourcesContent":["import { BASE_URL } from \"./auth\";\r\n\r\nclass Api {\r\n\tconstructor(options) {\r\n\t\tthis._baseUrl = options.baseUrl;\r\n\t}\r\n\r\n\t_checkResponse(res) {\r\n\t\tif (res.ok) {\r\n\t\t\treturn res.json();\r\n\t\t} else {\r\n\t\t\treturn Promise.reject(`${res.status} ${res.statusText}`);\r\n\t\t}\r\n\t}\r\n\r\n\tgetMyInfo() {\r\n\t\treturn fetch(`${this._baseUrl}/users/me`, {\r\n\t\t\tmethod: \"GET\",\r\n\t\t\tcredentials: 'include',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t}).then(res => this._checkResponse(res));\r\n\t}\r\n\r\n\tchangeProfileData(items) {\r\n\t\treturn fetch(`${this._baseUrl}/users/me`, {\r\n\t\t\tmethod: \"PATCH\",\r\n\t\t\tcredentials: 'include',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tname: items.name,\r\n\t\t\t\tabout: items.about,\r\n\t\t\t}),\r\n\t\t}).then(res => this._checkResponse(res));\r\n\t}\r\n\r\n\tchangeUserAvatar(items) {\r\n\t\treturn fetch(`${this._baseUrl}/users/me/avatar`, {\r\n\t\t\tmethod: \"PATCH\",\r\n\t\t\tcredentials: 'include',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({ avatar: items.avatar }),\r\n\t\t}).then(res => this._checkResponse(res));\r\n\t}\r\n\r\n\tgetServerCards() {\r\n\t\treturn fetch(`${this._baseUrl}/cards`, {\r\n\t\t\tmethod: 'GET',\r\n\t\t\tcredentials: 'include',\r\n\t\t\theaders: {\r\n\t\t\t},\r\n\t\t})\r\n\t\t\t.then(res => this._checkResponse(res));\r\n\t}\r\n\r\n\taddCard({ name, link }) {\r\n\t\treturn fetch(`${this._baseUrl}/cards`, {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tcredentials: 'include',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tname, link,\r\n\t\t\t}),\r\n\t\t})\r\n\t\t\t.then(res => this._checkResponse(res));\r\n\t}\r\n\r\n\tdeleteCard(id) {\r\n\t\treturn fetch(`${this._baseUrl}/cards/${id}`, {\r\n\t\t\tmethod: \"DELETE\",\r\n\t\t\tcredentials: 'include',\r\n\t\t\theaders: {\r\n\t\t\t}\r\n\t\t}).then(res => this._checkResponse(res));\r\n\t}\r\n\r\n\taddLike(cardId) {\r\n\t\treturn fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\r\n\t\t\tmethod: \"PUT\",\r\n\t\t\tcredentials: 'include',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t}\r\n\t\t}).then(res => this._checkResponse(res));\r\n\t}\r\n\r\n\tdeleteLike(cardId) {\r\n\t\treturn fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\r\n\t\t\tmethod: \"DELETE\",\r\n\t\t\tcredentials: 'include',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t}\r\n\t\t}).then(res => this._checkResponse(res));\r\n\t}\r\n}\r\n/** Подключить API */\r\nconst api = new Api\r\n\t({\r\n\t\tbaseUrl: BASE_URL,\r\n\t\theaders: {\r\n\t\t\t'Accept': 'application/json',\r\n\t\t\t'Content-Type': 'application/json'\r\n\t\t},\r\n\t});\r\n\r\nexport default api; "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}