{"ast":null,"code":"import _defineProperty from\"C:/Users/User/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/User/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/User/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useCallback}from\"react\";export function useFormValidation(){var initialValues=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var _useState=useState(initialValues),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isValid=_useState6[0],setIsValid=_useState6[1];var handleChange=function handleChange(e){var input=e.target;var name=input.name;var value=input.value;setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},name,value)));setErrors(_objectSpread(_objectSpread({},errors),{},_defineProperty({},name,input.validationMessage)));setIsValid(input.closest('form').checkValidity());};var reset=function reset(){var initialValues=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var valid=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;setValues(initialValues);setErrors({});setIsValid(valid);};var setValue=useCallback(function(name,value){setValues(function(oldValues){return _objectSpread(_objectSpread({},oldValues),{},_defineProperty({},name,value));});},[]);return{values:values,setValue:setValue,setValues:setValues,errors:errors,isValid:isValid,setIsValid:setIsValid,handleChange:handleChange,reset:reset};}","map":{"version":3,"names":["useState","useCallback","useFormValidation","initialValues","arguments","length","undefined","_useState","_useState2","_slicedToArray","values","setValues","_useState3","_useState4","errors","setErrors","_useState5","_useState6","isValid","setIsValid","handleChange","e","input","target","name","value","_objectSpread","_defineProperty","validationMessage","closest","checkValidity","reset","valid","setValue","oldValues"],"sources":["C:/Users/User/react-mesto-api-full-gha/frontend/src/utils/useFormValidation.js"],"sourcesContent":["import { useState, useCallback } from \"react\";\r\n\r\n\r\nexport function useFormValidation(initialValues = {}) {\r\n   const [values, setValues] = useState(initialValues)\r\n   const [errors, setErrors] = useState({})\r\n   const [isValid, setIsValid] = useState(false)\r\n\r\n   const handleChange = (e) => {\r\n      const input = e.target;\r\n      const name = input.name;\r\n      const value = input.value;\r\n\r\n      setValues({ ...values, [name]: value });\r\n      setErrors({ ...errors, [name]: input.validationMessage });\r\n      setIsValid(input.closest('form').checkValidity());\r\n   }\r\n\r\n   const reset = (initialValues = {}, valid = false) => {\r\n      setValues(initialValues)\r\n      setErrors({})\r\n      setIsValid(valid)\r\n   }\r\n   const setValue = useCallback((name, value) => {\r\n      setValues((oldValues) => ({ ...oldValues, [name]: value }))\r\n   }, [])\r\n\r\n\r\n   return { values, setValue, setValues, errors, isValid, setIsValid, handleChange, reset };\r\n}\r\n"],"mappings":"gZAAA,OAASA,QAAQ,CAAEC,WAAW,KAAQ,OAAO,CAG7C,MAAO,SAAS,CAAAC,iBAAiBA,CAAA,CAAqB,IAApB,CAAAC,aAAa,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CACjD,IAAAG,SAAA,CAA4BP,QAAQ,CAACG,aAAa,CAAC,CAAAK,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA5CG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IACxB,IAAAI,UAAA,CAA4BZ,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAa,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAjCE,MAAM,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IACxB,IAAAG,UAAA,CAA8BhB,QAAQ,CAAC,KAAK,CAAC,CAAAiB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAtCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAE1B,GAAM,CAAAG,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,CAAC,CAAK,CACzB,GAAM,CAAAC,KAAK,CAAGD,CAAC,CAACE,MAAM,CACtB,GAAM,CAAAC,IAAI,CAAGF,KAAK,CAACE,IAAI,CACvB,GAAM,CAAAC,KAAK,CAAGH,KAAK,CAACG,KAAK,CAEzBd,SAAS,CAAAe,aAAA,CAAAA,aAAA,IAAMhB,MAAM,KAAAiB,eAAA,IAAGH,IAAI,CAAGC,KAAK,GAAG,CACvCV,SAAS,CAAAW,aAAA,CAAAA,aAAA,IAAMZ,MAAM,KAAAa,eAAA,IAAGH,IAAI,CAAGF,KAAK,CAACM,iBAAiB,GAAG,CACzDT,UAAU,CAACG,KAAK,CAACO,OAAO,CAAC,MAAM,CAAC,CAACC,aAAa,EAAE,CAAC,CACpD,CAAC,CAED,GAAM,CAAAC,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAA,CAA0C,IAAtC,CAAA5B,aAAa,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,IAAE,CAAA4B,KAAK,CAAA5B,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,KAAK,CAC7CO,SAAS,CAACR,aAAa,CAAC,CACxBY,SAAS,CAAC,CAAC,CAAC,CAAC,CACbI,UAAU,CAACa,KAAK,CAAC,CACpB,CAAC,CACD,GAAM,CAAAC,QAAQ,CAAGhC,WAAW,CAAC,SAACuB,IAAI,CAAEC,KAAK,CAAK,CAC3Cd,SAAS,CAAC,SAACuB,SAAS,SAAAR,aAAA,CAAAA,aAAA,IAAWQ,SAAS,KAAAP,eAAA,IAAGH,IAAI,CAAGC,KAAK,IAAG,CAAC,CAC9D,CAAC,CAAE,EAAE,CAAC,CAGN,MAAO,CAAEf,MAAM,CAANA,MAAM,CAAEuB,QAAQ,CAARA,QAAQ,CAAEtB,SAAS,CAATA,SAAS,CAAEG,MAAM,CAANA,MAAM,CAAEI,OAAO,CAAPA,OAAO,CAAEC,UAAU,CAAVA,UAAU,CAAEC,YAAY,CAAZA,YAAY,CAAEW,KAAK,CAALA,KAAM,CAAC,CAC3F"},"metadata":{},"sourceType":"module","externalDependencies":[]}