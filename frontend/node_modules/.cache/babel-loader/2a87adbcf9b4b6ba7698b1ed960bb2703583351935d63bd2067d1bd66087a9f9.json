{"ast":null,"code":"import { BASE_URL } from \"./auth\";\nexport class Api {\n  constructor(options) {\n    this._url = options.url;\n    // this._headers = headers;\n  }\n\n  _getServerReply(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`${res.status} ${res.statusText}`);\n    }\n  }\n  getMyInfo() {\n    return fetch(`${this._url}/users/me`, {\n      method: 'GET',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => this._getServerReply(res));\n  }\n  getServerCards() {\n    return fetch(`${this._url}/cards`, {\n      method: 'GET',\n      credentials: 'include',\n      headers: {}\n    }).then(res => this._getServerReply(res));\n  }\n  changeProfileData(_ref) {\n    let {\n      name,\n      about\n    } = _ref;\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        about\n      })\n    }).then(this._getServerReply);\n  }\n  changeUserAvatar(_ref2) {\n    let {\n      avatar\n    } = _ref2;\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar\n      })\n    }).then(this._getServerReply);\n  }\n  addNewCard(_ref3) {\n    let {\n      name,\n      link\n    } = _ref3;\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        link\n      })\n    }).then(this._getServerReply);\n  }\n  deleteCard(id) {\n    return fetch(`${this._url}/cards/${id}`, {\n      method: 'DELETE',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(this._getServerReply);\n  }\n  changeLikeCardStatus(id, isLiked) {\n    if (isLiked) {\n      return fetch(`${this._url}/cards/${id}/likes`, {\n        method: 'PUT',\n        credentials: 'include',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(this._getServerReply);\n    } else {\n      return fetch(`${this._url}/cards/${id}/likes`, {\n        method: 'DELETE',\n        credentials: 'include',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(this._getServerReply);\n    }\n  }\n}\n\n// const api = new Api({\n//     url: \"https://mesto.nomoreparties.co/v1/cohort-61\",\n//     headers: {\n//         \"authorization\": \"871afe4f-c0f9-41b9-8dd4-b2dbe91cbc7d\",\n//         \"Content-Type\": \"application/json\",\n//     }\n// });\n\nconst api = new Api({\n  baseUrl: BASE_URL,\n  headers: {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json'\n  }\n});\nexport default api;","map":{"version":3,"names":["BASE_URL","Api","constructor","options","_url","url","_getServerReply","res","ok","json","Promise","reject","status","statusText","getMyInfo","fetch","method","credentials","headers","then","getServerCards","changeProfileData","_ref","name","about","body","JSON","stringify","changeUserAvatar","_ref2","avatar","addNewCard","_ref3","link","deleteCard","id","changeLikeCardStatus","isLiked","api","baseUrl"],"sources":["C:/Users/User/react-mesto-api-full-gha/frontend/src/utils/api.js"],"sourcesContent":["import { BASE_URL } from \"./auth\";\n\nexport class Api {\n    constructor(options) {\n        this._url = options.url;\n        // this._headers = headers;\n    }\n    _getServerReply(res) {\n        if (res.ok) {\n            return res.json();\n        } else {\n            return Promise.reject(`${res.status} ${res.statusText}`);\n        }\n    }\n\n\n    getMyInfo() {\n        return fetch(`${this._url}/users/me`,\n            {\n                method: 'GET',\n                credentials: 'include',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n            }).then(res => this._getServerReply(res));\n    }\n\n    getServerCards() {\n        return fetch(`${this._url}/cards`,\n            {\n                method: 'GET',\n                credentials: 'include',\n                headers: {\n                },\n            })\n            .then(res => this._getServerReply(res));\n    }\n\n    changeProfileData({ name, about }) {\n        return fetch(`${this._url}/users/me`,\n            {\n                method: 'PATCH',\n                credentials: 'include',\n\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({ name, about })\n            })\n            .then(this._getServerReply)\n    }\n\n    changeUserAvatar({ avatar }) {\n        return fetch(`${this._url}/users/me/avatar`,\n            {\n                method: 'PATCH',\n                credentials: 'include',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({ avatar })\n            })\n            .then(this._getServerReply)\n    }\n\n    addNewCard({ name, link }) {\n        return fetch(`${this._url}/cards`,\n            {\n                method: 'POST',\n                credentials: 'include',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({ name, link })\n            })\n            .then(this._getServerReply)\n    }\n\n    deleteCard(id) {\n        return fetch(`${this._url}/cards/${id}`,\n            {\n                method: 'DELETE',\n                credentials: 'include',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n            })\n            .then(this._getServerReply)\n    }\n\n    changeLikeCardStatus(id, isLiked) {\n        if (isLiked) {\n            return fetch(`${this._url}/cards/${id}/likes`,\n                {\n                    method: 'PUT',\n                    credentials: 'include',\n                    headers: {\n                        'Content-Type': 'application/json'\n                    }\n                })\n                .then(this._getServerReply)\n        } else {\n            return fetch(`${this._url}/cards/${id}/likes`,\n                {\n                    method: 'DELETE',\n                    credentials: 'include',\n                    headers: {\n                        'Content-Type': 'application/json'\n                    }\n                })\n                .then(this._getServerReply)\n        }\n    }\n}\n\n// const api = new Api({\n//     url: \"https://mesto.nomoreparties.co/v1/cohort-61\",\n//     headers: {\n//         \"authorization\": \"871afe4f-c0f9-41b9-8dd4-b2dbe91cbc7d\",\n//         \"Content-Type\": \"application/json\",\n//     }\n// });\n\nconst api = new Api\n    ({\n        baseUrl: BASE_URL,\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n    });\n\nexport default api;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}