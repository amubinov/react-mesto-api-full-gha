{"ast":null,"code":"import{useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ImagePopup(_ref){var card=_ref.card,onClose=_ref.onClose;useEffect(function(){if(!card)return;// не даем сработать эффекту, если невыбрана карточка еще \nfunction closePopupEscape(event){if(event.key===\"Escape\"){onClose(event);}}function closePopupOverlay(event){if(event.target.classList.contains('popup_opened')){onClose(event);}}document.addEventListener('keydown',closePopupEscape);document.addEventListener('click',closePopupOverlay);return function(){document.removeEventListener('keydown',closePopupEscape);document.removeEventListener('click',closePopupOverlay);};},[onClose,card]);return/*#__PURE__*/_jsx(\"section\",{className:\"popup popup_type_preview \".concat(card?'popup_opened':''),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup__preview-container\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"popup__preview-image\",src:card&&card.link,alt:card&&card.name}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"popup__close popup__close_type-preview\",onClick:onClose}),/*#__PURE__*/_jsx(\"h2\",{className:\"popup__preview-title\",children:card&&card.name})]})});};export default ImagePopup;","map":{"version":3,"names":["useEffect","jsx","_jsx","jsxs","_jsxs","ImagePopup","_ref","card","onClose","closePopupEscape","event","key","closePopupOverlay","target","classList","contains","document","addEventListener","removeEventListener","className","concat","children","src","link","alt","name","type","onClick"],"sources":["C:/Users/User/react-mesto-api-full-gha/frontend/src/components/ImagePopup.js"],"sourcesContent":["import { useEffect } from 'react';\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n\tuseEffect(() => {\r\n\t\tif (!card) return; // не даем сработать эффекту, если невыбрана карточка еще \r\n\t\tfunction closePopupEscape(event) {\r\n\t\t\tif (event.key === \"Escape\") {\r\n\t\t\t\tonClose(event);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction closePopupOverlay(event) {\r\n\t\t\tif (event.target.classList.contains('popup_opened')) {\r\n\t\t\t\tonClose(event);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdocument.addEventListener('keydown', closePopupEscape);\r\n\t\tdocument.addEventListener('click', closePopupOverlay);\r\n\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener('keydown', closePopupEscape);\r\n\t\t\tdocument.removeEventListener('click', closePopupOverlay);\r\n\t\t};\r\n\t}, [onClose, card]);\r\n\r\n\treturn (\r\n\t\t<section className={`popup popup_type_preview ${card ? 'popup_opened' : ''}`}>\r\n\t\t\t<div className=\"popup__preview-container\">\r\n\t\t\t\t<img className=\"popup__preview-image\" src={card && card.link} alt={card && card.name} />\r\n\t\t\t\t<button type=\"button\" className=\"popup__close popup__close_type-preview\" onClick={onClose}></button>\r\n\t\t\t\t<h2 className=\"popup__preview-title\">{card && card.name}</h2>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default ImagePopup;"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAElC,QAAS,CAAAC,UAAUA,CAAAC,IAAA,CAAoB,IAAjB,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAClCR,SAAS,CAAC,UAAM,CACf,GAAI,CAACO,IAAI,CAAE,OAAQ;AACnB,QAAS,CAAAE,gBAAgBA,CAACC,KAAK,CAAE,CAChC,GAAIA,KAAK,CAACC,GAAG,GAAK,QAAQ,CAAE,CAC3BH,OAAO,CAACE,KAAK,CAAC,CACf,CACD,CAEA,QAAS,CAAAE,iBAAiBA,CAACF,KAAK,CAAE,CACjC,GAAIA,KAAK,CAACG,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,cAAc,CAAC,CAAE,CACpDP,OAAO,CAACE,KAAK,CAAC,CACf,CACD,CAEAM,QAAQ,CAACC,gBAAgB,CAAC,SAAS,CAAER,gBAAgB,CAAC,CACtDO,QAAQ,CAACC,gBAAgB,CAAC,OAAO,CAAEL,iBAAiB,CAAC,CAErD,MAAO,WAAM,CACZI,QAAQ,CAACE,mBAAmB,CAAC,SAAS,CAAET,gBAAgB,CAAC,CACzDO,QAAQ,CAACE,mBAAmB,CAAC,OAAO,CAAEN,iBAAiB,CAAC,CACzD,CAAC,CACF,CAAC,CAAE,CAACJ,OAAO,CAAED,IAAI,CAAC,CAAC,CAEnB,mBACCL,IAAA,YAASiB,SAAS,6BAAAC,MAAA,CAA8Bb,IAAI,CAAG,cAAc,CAAG,EAAE,CAAG,CAAAc,QAAA,cAC5EjB,KAAA,QAAKe,SAAS,CAAC,0BAA0B,CAAAE,QAAA,eACxCnB,IAAA,QAAKiB,SAAS,CAAC,sBAAsB,CAACG,GAAG,CAAEf,IAAI,EAAIA,IAAI,CAACgB,IAAK,CAACC,GAAG,CAAEjB,IAAI,EAAIA,IAAI,CAACkB,IAAK,EAAG,cACxFvB,IAAA,WAAQwB,IAAI,CAAC,QAAQ,CAACP,SAAS,CAAC,wCAAwC,CAACQ,OAAO,CAAEnB,OAAQ,EAAU,cACpGN,IAAA,OAAIiB,SAAS,CAAC,sBAAsB,CAAAE,QAAA,CAAEd,IAAI,EAAIA,IAAI,CAACkB,IAAI,EAAM,GACxD,EACG,CAEZ,CAAC,CAED,cAAe,CAAApB,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}