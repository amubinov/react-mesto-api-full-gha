{"ast":null,"code":"import React,{useContext}from'react';import{CurrentUserContext}from'../contexts/CurrentUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Card(_ref){var card=_ref.card,onCardClick=_ref.onCardClick,onCardLike=_ref.onCardLike,onConfirmCardDelete=_ref.onConfirmCardDelete;var currentUser=useContext(CurrentUserContext);// Определяем, являемся ли мы владельцем текущей карточки\n// const isOwn = card.owner === currentUser._id;\nvar isOwn=card.owner._id===currentUser._id;// Создаём переменную для условного рендеринга\nvar cardDeleteButtonClassName=\"element__delete \".concat(!isOwn&&'element__delete_invisible');// Определяем, есть ли у карточки лайк, поставленный текущим пользователем\nvar isLiked=card.likes.some(function(i){return i._id===currentUser._id;});// Создаём переменную, которую после зададим в `className` для кнопки лайка\nvar cardLikeButtonClassName=\"element__like \".concat(isLiked&&'element__like_active');function handleCardClick(){onCardClick(card);}function handleLikeClick(){onCardLike(card);}function handleConfirmClick(){onConfirmCardDelete(card);}return/*#__PURE__*/_jsxs(\"article\",{className:\"element\",children:[/*#__PURE__*/_jsx(\"img\",{onClick:handleCardClick,className:\"element__image\",alt:card.name,src:card.link}),/*#__PURE__*/_jsx(\"button\",{onClick:handleConfirmClick,className:cardDeleteButtonClassName,type:\"button\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"element__title-button\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"element__title\",children:card.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"element__container-like\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleLikeClick,className:cardLikeButtonClassName,type:\"button\"}),/*#__PURE__*/_jsx(\"span\",{className:\"element__like-counter\",children:card.likes.length})]})]})]});}export default Card;","map":{"version":3,"names":["React","useContext","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","Card","_ref","card","onCardClick","onCardLike","onConfirmCardDelete","currentUser","isOwn","owner","_id","cardDeleteButtonClassName","concat","isLiked","likes","some","i","cardLikeButtonClassName","handleCardClick","handleLikeClick","handleConfirmClick","className","children","onClick","alt","name","src","link","type","length"],"sources":["C:/Users/User/react-mesto-api-full-gha/frontend/src/components/Card.js"],"sourcesContent":["import React, { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onConfirmCardDelete }) {\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  // Определяем, являемся ли мы владельцем текущей карточки\r\n  // const isOwn = card.owner === currentUser._id;\r\n  const isOwn = card.owner._id === currentUser._id;\r\n\r\n\r\n  // Создаём переменную для условного рендеринга\r\n  const cardDeleteButtonClassName = `element__delete ${!isOwn && 'element__delete_invisible'\r\n    }`;\r\n\r\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n  const cardLikeButtonClassName = `element__like ${isLiked && 'element__like_active'}`;\r\n\r\n  function handleCardClick() {\r\n    onCardClick(card);\r\n  }\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n  function handleConfirmClick() {\r\n    onConfirmCardDelete(card);\r\n  }\r\n  return (\r\n    <article className=\"element\">\r\n      <img onClick={handleCardClick} className=\"element__image\" alt={card.name} src={card.link} />\r\n      <button\r\n        onClick={handleConfirmClick}\r\n        className={cardDeleteButtonClassName}\r\n        type=\"button\"\r\n      ></button>\r\n      <div className=\"element__title-button\">\r\n        <h2 className=\"element__title\">{card.name}</h2>\r\n        <div className=\"element__container-like\">\r\n          <button onClick={handleLikeClick} className={cardLikeButtonClassName} type=\"button\"></button>\r\n          <span className=\"element__like-counter\">{card.likes.length}</span>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  )\r\n}\r\n\r\nexport default Card;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,KAAQ,OAAO,CACzC,OAASC,kBAAkB,KAAQ,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEpE,QAAS,CAAAC,IAAIA,CAAAC,IAAA,CAAyD,IAAtD,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CAAEC,WAAW,CAAAF,IAAA,CAAXE,WAAW,CAAEC,UAAU,CAAAH,IAAA,CAAVG,UAAU,CAAEC,mBAAmB,CAAAJ,IAAA,CAAnBI,mBAAmB,CAEhE,GAAM,CAAAC,WAAW,CAAGZ,UAAU,CAACC,kBAAkB,CAAC,CAElD;AACA;AACA,GAAM,CAAAY,KAAK,CAAGL,IAAI,CAACM,KAAK,CAACC,GAAG,GAAKH,WAAW,CAACG,GAAG,CAGhD;AACA,GAAM,CAAAC,yBAAyB,oBAAAC,MAAA,CAAsB,CAACJ,KAAK,EAAI,2BAA2B,CACtF,CAEJ;AACA,GAAM,CAAAK,OAAO,CAAGV,IAAI,CAACW,KAAK,CAACC,IAAI,CAAC,SAACC,CAAC,QAAK,CAAAA,CAAC,CAACN,GAAG,GAAKH,WAAW,CAACG,GAAG,GAAC,CAGjE;AACA,GAAM,CAAAO,uBAAuB,kBAAAL,MAAA,CAAoBC,OAAO,EAAI,sBAAsB,CAAE,CAEpF,QAAS,CAAAK,eAAeA,CAAA,CAAG,CACzBd,WAAW,CAACD,IAAI,CAAC,CACnB,CACA,QAAS,CAAAgB,eAAeA,CAAA,CAAG,CACzBd,UAAU,CAACF,IAAI,CAAC,CAClB,CACA,QAAS,CAAAiB,kBAAkBA,CAAA,CAAG,CAC5Bd,mBAAmB,CAACH,IAAI,CAAC,CAC3B,CACA,mBACEH,KAAA,YAASqB,SAAS,CAAC,SAAS,CAAAC,QAAA,eAC1BxB,IAAA,QAAKyB,OAAO,CAAEL,eAAgB,CAACG,SAAS,CAAC,gBAAgB,CAACG,GAAG,CAAErB,IAAI,CAACsB,IAAK,CAACC,GAAG,CAAEvB,IAAI,CAACwB,IAAK,EAAG,cAC5F7B,IAAA,WACEyB,OAAO,CAAEH,kBAAmB,CAC5BC,SAAS,CAAEV,yBAA0B,CACrCiB,IAAI,CAAC,QAAQ,EACL,cACV5B,KAAA,QAAKqB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACpCxB,IAAA,OAAIuB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAEnB,IAAI,CAACsB,IAAI,EAAM,cAC/CzB,KAAA,QAAKqB,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtCxB,IAAA,WAAQyB,OAAO,CAAEJ,eAAgB,CAACE,SAAS,CAAEJ,uBAAwB,CAACW,IAAI,CAAC,QAAQ,EAAU,cAC7F9B,IAAA,SAAMuB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEnB,IAAI,CAACW,KAAK,CAACe,MAAM,EAAQ,GAC9D,GACF,GACE,CAEd,CAEA,cAAe,CAAA5B,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}