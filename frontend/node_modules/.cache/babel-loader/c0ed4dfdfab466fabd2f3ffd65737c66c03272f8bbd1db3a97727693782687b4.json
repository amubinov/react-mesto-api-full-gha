{"ast":null,"code":"import _classCallCheck from\"C:/Users/User/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/User/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";export var Api=/*#__PURE__*/function(){function Api(_ref){var url=_ref.url,headers=_ref.headers;_classCallCheck(this,Api);this._url=url;this._headers=headers;}_createClass(Api,[{key:\"_getServerReply\",value:function _getServerReply(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}},{key:\"getMyInfo\",value:function getMyInfo(){return fetch(\"\".concat(this._url,\"/users/me\"),{method:'GET',headers:this._headers}).then(this._getServerReply);}},{key:\"getServerCards\",value:function getServerCards(){return fetch(\"\".concat(this._url,\"/cards\"),{method:'GET',headers:this._headers}).then(this._getServerReply);}},{key:\"changeProfileData\",value:function changeProfileData(_ref2){var name=_ref2.name,about=_ref2.about;return fetch(\"\".concat(this._url,\"/users/me\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({name:name,about:about})}).then(this._getServerReply);}},{key:\"changeUserAvatar\",value:function changeUserAvatar(_ref3){var avatar=_ref3.avatar;return fetch(\"\".concat(this._url,\"/users/me/avatar\"),{headers:this._headers,method:'PATCH',body:JSON.stringify({avatar:avatar})}).then(this._getServerReply);}},{key:\"addNewCard\",value:function addNewCard(_ref4){var name=_ref4.name,link=_ref4.link;return fetch(\"\".concat(this._url,\"/cards\"),{method:'POST',headers:this._headers,body:JSON.stringify({name:name,link:link})}).then(this._getServerReply);}},{key:\"deleteCard\",value:function deleteCard(id){return fetch(\"\".concat(this._url,\"/cards/\").concat(id),{method:'DELETE',headers:this._headers}).then(this._getServerReply);}},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(id,isLiked){if(isLiked){return fetch(\"\".concat(this._url,\"/cards/\").concat(id,\"/likes\"),{method:'PUT',headers:this._headers}).then(this._getServerReply);}else{return fetch(\"\".concat(this._url,\"/cards/\").concat(id,\"/likes\"),{method:'DELETE',headers:this._headers}).then(this._getServerReply);}}}]);return Api;}();var api=new Api({url:\"https://mesto.nomoreparties.co/v1/cohort-61\",headers:{\"authorization\":\"871afe4f-c0f9-41b9-8dd4-b2dbe91cbc7d\",\"Content-Type\":\"application/json\"}});export default api;","map":{"version":3,"names":["Api","_ref","url","headers","_classCallCheck","_url","_headers","_createClass","key","value","_getServerReply","res","ok","json","Promise","reject","concat","status","getMyInfo","fetch","method","then","getServerCards","changeProfileData","_ref2","name","about","body","JSON","stringify","changeUserAvatar","_ref3","avatar","addNewCard","_ref4","link","deleteCard","id","changeLikeCardStatus","isLiked","api"],"sources":["C:/Users/User/react-mesto-api-full-gha/frontend/src/utils/api.js"],"sourcesContent":["export class Api {\n    constructor({ url, headers }) {\n        this._url = url;\n        this._headers = headers;\n    }\n    _getServerReply(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    getMyInfo() {\n        return fetch(`${this._url}/users/me`,\n            {\n                method: 'GET',\n                headers: this._headers\n            })\n            .then(this._getServerReply)\n    }\n    getServerCards() {\n        return fetch(`${this._url}/cards`,\n            {\n                method: 'GET',\n                headers: this._headers\n            })\n            .then(this._getServerReply)\n    }\n    changeProfileData({ name, about }) {\n        return fetch(`${this._url}/users/me`,\n            {\n                method: 'PATCH',\n                headers: this._headers,\n                body: JSON.stringify({ name, about })\n            })\n            .then(this._getServerReply)\n    }\n    changeUserAvatar({ avatar }) {\n        return fetch(`${this._url}/users/me/avatar`,\n            {\n                headers: this._headers,\n                method: 'PATCH',\n                body: JSON.stringify({ avatar })\n            })\n            .then(this._getServerReply)\n    }\n    addNewCard({ name, link }) {\n        return fetch(`${this._url}/cards`,\n            {\n                method: 'POST',\n                headers: this._headers,\n                body: JSON.stringify({ name, link })\n            })\n            .then(this._getServerReply)\n    }\n    deleteCard(id) {\n        return fetch(`${this._url}/cards/${id}`,\n            {\n                method: 'DELETE',\n                headers: this._headers\n            })\n            .then(this._getServerReply)\n    }\n    changeLikeCardStatus(id, isLiked) {\n        if (isLiked) {\n            return fetch(`${this._url}/cards/${id}/likes`,\n                {\n                    method: 'PUT',\n                    headers: this._headers\n                })\n                .then(this._getServerReply)\n        } else {\n            return fetch(`${this._url}/cards/${id}/likes`,\n                {\n                    method: 'DELETE',\n                    headers: this._headers,\n                })\n                .then(this._getServerReply)\n        }\n    }\n}\n\nconst api = new Api({\n    url: \"https://mesto.nomoreparties.co/v1/cohort-61\",\n    headers: {\n        \"authorization\": \"871afe4f-c0f9-41b9-8dd4-b2dbe91cbc7d\",\n        \"Content-Type\": \"application/json\",\n    }\n});\nexport default api;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}